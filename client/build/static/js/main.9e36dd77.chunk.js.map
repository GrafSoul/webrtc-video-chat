{"version":3,"sources":["components/Header.js","components/Footer.js","components/CopyLink.js","components/QRCodeImage.js","components/Loader.js","P2P_VideoAudioChat/CreateRoom.js","components/ExitButton.js","components/LinkRoom.js","components/StreamControl.js","components/AudioMeter.js","components/VideoPlayer.js","components/AudioInputMeter.js","components/Settings.js","P2P_VideoAudioChat/Room.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","src","alt","Footer","href","target","rel","CopyLink","url","useState","copied","setCopied","onClick","navigator","clipboard","writeText","then","setTimeout","catch","err","console","log","handleCopyLink","QRCodeImage","value","bgColor","fgColor","size","Loader","CreateRoom","history","spinner","setSpinner","browser","userAgent","toLowerCase","is_IE","test","useEffect","id","uuid","window","location","push","ExitButton","exitRoom","title","LinkRoom","shareLink","handleShareLink","join","type","onChange","document","fullscreenElement","Object","defineProperty","get","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","mozFullScreenEnabled","msFullscreenEnabled","webkitFullscreenEnabled","StreamControl","handleToggleMic","audio","handleToggleCamera","video","handleToggleSound","sound","handleToggleFullScreen","handleShareMonitor","handleToggleMirror","mirror","update","fullScreen","onlyAudio","fullMonitor","setFullMonitor","style","display","exitFullscreen","documentElement","requestFullscreen","AudioMeter","userStream","number","widthLine","lineClass","meterClass","heightLine","model","smallMeter","useRef","meterItem","myElements","num","width","heightLineBox","modelMeter","line","array","context","analyser","current","Uint8Array","i","createElement","background","minWidth","appendChild","AudioContext","createAnalyser","createMediaStreamSource","connect","loop","getElementsByClassName","length","requestAnimationFrame","getByteFrequencyData","height","minHeight","opacity","getBoundingClientRect","backgroundColor","error","alert","ref","VideoPlayer","constraints","setAudio","setVideo","setSound","isCopied","setIsCopied","setFullScreen","setMirror","settings","setSettings","setShareLink","setUpdate","userVideo","partnerVideo","peerRef","socketRef","otherUser","senders","handleAnswer","message","desc","RTCSessionDescription","sdp","setRemoteDescription","e","handleICECandidateEvent","candidate","payload","emit","handleNewICECandidateMsg","incoming","RTCIceCandidate","addIceCandidate","handleTrackEvent","srcObject","streams","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","ontrack","onnegotiationneeded","createOffer","offer","setLocalDescription","caller","localDescription","handleNegotiationNeededEvent","handleRecieveCall","getTracks","forEach","track","addTrack","createAnswer","answer","mediaDevices","getUserMedia","stream","io","on","callUser","visibility","poster","autoPlay","muted","getAudioTracks","enabled","getVideoTracks","getDisplayMedia","cursor","screenTrack","find","sender","kind","replaceTrack","onended","handleToggleSettings","AudioInputMeter","audioContext","canvasContext","canvasMeter","mediaStreamSource","meter","gotStream","clipLevel","averaging","clipLag","processor","createScriptProcessor","onaudioprocess","volumeAudioProcess","clipping","lastClip","volume","destination","checkClipping","this","performance","now","shutdown","disconnect","createAudioMeter","drawLoop","clearRect","fillStyle","fillRect","event","x","buf","inputBuffer","getChannelData","bufLength","sum","Math","abs","rms","sqrt","max","getContext","webkitAudioContext","webkitGetUserMedia","mozGetUserMedia","mandatory","googEchoCancellation","googAutoGainControl","googNoiseSuppression","googHighpassFilter","optional","Settings","startChat","handleOnlyAudio","videoElement","audioInputSelect","audioOutputSelect","videoSelect","enumerateDevices","selectors","gotDevices","deviceInfos","values","map","select","firstChild","removeChild","deviceInfo","option","deviceId","text","label","selectorIndex","Array","prototype","slice","call","childNodes","some","n","start","audioSource","videoSource","exact","undefined","handleError","name","disabled","HTMLMediaElement","onchange","element","sinkId","audioDestination","setSinkId","errorMessage","selectedIndex","warn","playsInline","htmlFor","Room","match","setConstraints","setOnlyAudio","open","setSOpen","params","roomID","param","App","path","component","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"qLAiBeA,EAfA,WACX,OACI,4BAAQC,UAAU,UACd,yBAAKA,UAAU,eACX,4BACI,0BAAMA,UAAU,QACZ,yBAAKC,IAAI,kBAAkBC,IAAI,UAFvC,aCaDC,EAjBA,WACX,OACI,4BAAQH,UAAU,UACd,mFACuD,IACnD,uBACII,KAAK,gDACLC,OAAO,SACPC,IAAI,uBAHR,aCoBDC,EAzBE,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAAU,EACEC,oBAAS,GADX,mBACnBC,EADmB,KACXC,EADW,KAiB1B,OACI,yBAAKX,UAAU,OAAOY,QAAS,kBAfnC,SAAwBJ,GACpBK,UAAUC,UACLC,UAAUP,GACVQ,MAAK,WACFL,GAAU,GACVM,YAAW,WACPN,GAAU,KACX,QAENO,OAAM,SAACC,GACJC,QAAQC,IAAI,uBAAwBF,MAKPG,CAAed,KAC/CE,GAAU,0BAAMV,UAAU,UAAhB,WACX,yBAAKC,IAAI,uBAAuBC,IAAI,O,iBCRjCqB,EAXK,SAAC,GAAa,IAAXf,EAAU,EAAVA,IACnB,OACI,kBAAC,IAAD,CACIgB,MAAOhB,EACPiB,QAAS,UACTC,QAAS,UACTC,KAAM,OC2LHC,EAlMA,WACX,OACI,yBAAK5B,UAAU,UACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,U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","file":"static/js/main.9e36dd77.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header-wrap\">\r\n                <h1>\r\n                    <span className=\"logo\">\r\n                        <img src=\"images/logo.svg\" alt=\"Logo\" />\r\n                    </span>\r\n                    VID.OK\r\n                </h1>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>\r\n                © 2020 | VID.OK | Created by Dmitriy Zatulovskiy |{' '}\r\n                <a\r\n                    href=\"https://github.com/GrafSoul/webrtc-video-chat\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                >\r\n                    GitHub\r\n                </a>\r\n            </p>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\n\r\nconst CopyLink = ({ url }) => {\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setCopied(true);\r\n                setTimeout(() => {\r\n                    setCopied(false);\r\n                }, 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"copy\" onClick={() => handleCopyLink(url)}>\r\n            {copied && <span className=\"copied\">Copied!</span>}\r\n            <img src=\"images/icon_copy.svg\" alt=\"\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CopyLink;\r\n","import React from 'react';\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst QRCodeImage = ({ url }) => {\r\n    return (\r\n        <QRCode\r\n            value={url}\r\n            bgColor={'#1d3850'}\r\n            fgColor={'#bebebe'}\r\n            size={200}\r\n        />\r\n    );\r\n};\r\n\r\nexport default QRCodeImage;\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"socket\">\r\n            <div className=\"gel center-gel\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c1 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c2 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c3 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c4 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c5 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c6 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c7 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c8 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c9 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c10 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c11 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c12 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c13 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c14 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c15 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c16 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c17 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c18 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c19 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c20 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c21 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c22 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c23 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c24 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c25 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c26 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c28 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c29 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c30 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c31 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c32 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c33 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c34 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c35 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c36 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c37 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { v1 as uuid } from 'uuid';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport CopyLink from '../components/CopyLink';\r\nimport QRCodeImage from '../components/QRCodeImage';\r\nimport Loader from '../components/Loader';\r\n\r\nconst CreateRoom = ({ history }) => {\r\n    const [spinner, setSpinner] = useState(false);\r\n\r\n    const browser = navigator.userAgent.toLowerCase();\r\n    const is_IE =\r\n        /trident/gi.test(browser) ||\r\n        /msie/gi.test(browser) ||\r\n        /edge/gi.test(browser);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, []);\r\n\r\n    const id = uuid();\r\n    const url = window.location.href + `room/${id}`;\r\n\r\n    const createRoom = () => {\r\n        history.push(`/room/${id}`);\r\n        return false;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"container\">\r\n                <main>\r\n                    {is_IE ? (\r\n                        <section className=\"create-room\">\r\n                            <div className=\"crete-info\">\r\n                                <h2>\r\n                                    You are using a browser that does not\r\n                                    support the technologies used in this\r\n                                    service\r\n                                </h2>\r\n\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                            </div>\r\n                        </section>\r\n                    ) : (\r\n                        <section className=\"create-room\">\r\n                            <div className=\"crete-info\">\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                                <p>\r\n                                    To create a connection, click on the button\r\n                                    - <strong>\"Create Room\"</strong> and send\r\n                                    the link to the person with whom you want to\r\n                                    communicate.\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"link-url\">\r\n                                <CopyLink url={url} />\r\n                                <p>{url}</p>\r\n                            </div>\r\n\r\n                            <div className=\"qrcode\">\r\n                                <QRCodeImage url={url} />\r\n                            </div>\r\n\r\n                            <div className=\"btn-go\">\r\n                                <button onClick={() => createRoom()}>\r\n                                    Create a New Connection\r\n                                </button>\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            <Footer />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateRoom;\r\n","import React from 'react';\r\n\r\nconst ExitButton = ({ exitRoom }) => {\r\n    return (\r\n        <div className=\"btn-exit-wrap\">\r\n            <button className=\"btn-exit\" onClick={exitRoom} title=\"Exit\">\r\n                <span className=\"icon icon-exit\"></span>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ExitButton;\r\n","import React from 'react';\r\n\r\nimport QRCodeImage from './QRCodeImage';\r\n\r\nconst LinkRoom = ({\r\n    shareLink,\r\n    handleShareLink,\r\n    handleCopyLink,\r\n    copied,\r\n    url,\r\n}) => {\r\n    return (\r\n        <div className={['link', shareLink ? 'active' : null].join(' ')}>\r\n            <button\r\n                className=\"btn-close\"\r\n                onClick={handleShareLink}\r\n                title=\"Close\"\r\n            >\r\n                <span className=\"icon icon-close\"></span>\r\n            </button>\r\n\r\n            <h2>Contact link</h2>\r\n            <p className=\"link-info\">\r\n                Copy the link and send it to the person you want to meet in a\r\n                video chat\r\n            </p>\r\n            <p className=\"link-url\">\r\n                <input type=\"text\" value={url} onChange={() => {}} />\r\n            </p>\r\n\r\n            <div className=\"link-copy\">\r\n                <button onClick={() => handleCopyLink(url)}>Copy link</button>{' '}\r\n                {copied && <span className=\"copyed\">Copied!</span>}\r\n            </div>\r\n\r\n            <p className=\"link-info\">\r\n                Use as an option. Scan QRCode and send the resulting link to the\r\n                person with who want to start communicating in video chat\r\n            </p>\r\n            <div className=\"link-qrcode\">\r\n                <QRCodeImage url={url} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LinkRoom;\r\n","import React, { useState } from 'react';\r\n\r\nif (!document.fullscreenElement) {\r\n    Object.defineProperty(document, 'fullscreenElement', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenElement ||\r\n                document.msFullscreenElement ||\r\n                document.webkitFullscreenElement\r\n            );\r\n        },\r\n    });\r\n\r\n    Object.defineProperty(document, 'fullscreenEnabled', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenEnabled ||\r\n                document.msFullscreenEnabled ||\r\n                document.webkitFullscreenEnabled\r\n            );\r\n        },\r\n    });\r\n}\r\n\r\nconst StreamControl = ({\r\n    handleShareLink,\r\n    handleToggleMic,\r\n    audio,\r\n    handleToggleCamera,\r\n    video,\r\n    handleToggleSound,\r\n    sound,\r\n    handleToggleFullScreen,\r\n    handleShareMonitor,\r\n    handleToggleMirror,\r\n    mirror,\r\n    update,\r\n    fullScreen,\r\n    onlyAudio,\r\n}) => {\r\n    const [fullMonitor, setFullMonitor] = useState(false);\r\n\r\n    const handleFullscreen = () => {\r\n        if (document.fullscreenElement) {\r\n            document.exitFullscreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n        setFullMonitor(!fullMonitor);\r\n        return false;\r\n    };\r\n\r\n    return (\r\n        <div className=\"stream-control\">\r\n            <div className=\"btn-link\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleShareLink}\r\n                    title=\"Open Link\"\r\n                >\r\n                    <span className=\"icon icon-link\"></span>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"btn-group\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleMic}\r\n                    title=\"Microphone ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-mic',\r\n                            audio ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleSound}\r\n                    title=\"Sound ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-sound',\r\n                            sound ? 'off' : null,\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <span style={onlyAudio ? { display: 'none' } : null}>\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleCamera}\r\n                        title=\"Camera ON/OFF\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-camera',\r\n                                video ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleMirror}\r\n                        title=\"Mirror\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-mirror',\r\n                                mirror ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleFullScreen}\r\n                        title=\"Fullscreen ON/OFF\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-fullscreen',\r\n                                fullScreen ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={() => handleFullscreen()}\r\n                        title=\"Monitor\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-monitor',\r\n                                fullMonitor ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n                </span>\r\n\r\n                {update && !onlyAudio && (\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleShareMonitor}\r\n                        title=\"Share Content\"\r\n                    >\r\n                        <span className=\"icon icon-share\"></span>\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StreamControl;\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nconst AudioMeter = ({\r\n    userStream,\r\n    number,\r\n    widthLine,\r\n    lineClass,\r\n    meterClass,\r\n    heightLine,\r\n    model,\r\n}) => {\r\n    const smallMeter = useRef();\r\n    const meterItem = useRef(null);\r\n    const myElements = useRef(null);\r\n    const num = useRef(number);\r\n    const width = useRef(widthLine);\r\n    const heightLineBox = useRef(heightLine);\r\n    const modelMeter = useRef(model);\r\n    const line = useRef(lineClass);\r\n    const array = useRef([]);\r\n\r\n    useEffect(() => {\r\n        let context, analyser;\r\n        array.current = new Uint8Array(num.current * 2);\r\n\r\n        if (context) return;\r\n\r\n        for (let i = 0; i < num.current; i++) {\r\n            meterItem.current = document.createElement('div');\r\n            meterItem.current.className = line.current;\r\n            meterItem.current.style.background = '#426e92';\r\n            meterItem.current.style.minWidth = width.current + 'px';\r\n            meterItem.current.style.display = 'none';\r\n            smallMeter.current.appendChild(meterItem.current);\r\n        }\r\n\r\n        context = new AudioContext();\r\n        analyser = context.createAnalyser();\r\n\r\n        try {\r\n            if (userStream) {\r\n                let src = context.createMediaStreamSource(userStream);\r\n                src.connect(analyser);\r\n            }\r\n            loop();\r\n        } catch (error) {\r\n            alert(error + '\\r\\n Отклонено. Страница будет обновлена!');\r\n        }\r\n\r\n        function loop() {\r\n            myElements.current = document.getElementsByClassName(line.current);\r\n            if (myElements.current.length > 0) {\r\n                window.requestAnimationFrame(loop);\r\n                analyser.getByteFrequencyData(array.current);\r\n                for (var i = 0; i < num.current; i++) {\r\n                    let height = array.current[i + num.current];\r\n                    myElements.current[i].style.minHeight =\r\n                        (modelMeter.current === 'small' ? height / 3 : height) +\r\n                        'px';\r\n                    myElements.current[i].style.opacity = 0.008 * height;\r\n                    myElements.current[i].style.display = 'block';\r\n                    if (\r\n                        myElements.current[i].getBoundingClientRect().height >\r\n                        heightLineBox.current\r\n                    ) {\r\n                        myElements.current[i].style.backgroundColor = '#a1c7e6';\r\n                    } else {\r\n                        myElements.current[i].style.backgroundColor = '#426e92';\r\n                    }\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }, [userStream]);\r\n\r\n    return <div className={meterClass} ref={smallMeter}></div>;\r\n};\r\n\r\nexport default AudioMeter;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport LinkRoom from './LinkRoom';\r\nimport StreamControl from './StreamControl';\r\nimport ExitButton from './ExitButton';\r\nimport Loader from './Loader';\r\nimport AudioMeter from './AudioMeter';\r\n\r\nconst VideoPlayer = ({ id, history, constraints, onlyAudio }) => {\r\n    const [audio, setAudio] = useState(true);\r\n    const [video, setVideo] = useState(true);\r\n    const [sound, setSound] = useState(false);\r\n    const [isCopied, setIsCopied] = useState(false);\r\n    const [fullScreen, setFullScreen] = useState(false);\r\n    const [mirror, setMirror] = useState(false);\r\n    const [settings, setSettings] = useState(false);\r\n    const [shareLink, setShareLink] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [update, setUpdate] = useState(false);\r\n\r\n    const userVideo = useRef();\r\n    const partnerVideo = useRef();\r\n\r\n    const peerRef = useRef();\r\n    const socketRef = useRef();\r\n    const otherUser = useRef();\r\n    const userStream = useRef();\r\n    const senders = useRef([]);\r\n\r\n    useEffect(() => {\r\n        function callUser(userID) {\r\n            peerRef.current = createPeer(userID);\r\n            userStream.current\r\n                .getTracks()\r\n                .forEach((track) =>\r\n                    senders.current.push(\r\n                        peerRef.current.addTrack(track, userStream.current),\r\n                    ),\r\n                );\r\n        }\r\n\r\n        function createPeer(userID) {\r\n            const peer = new RTCPeerConnection({\r\n                iceServers: [\r\n                    {\r\n                        urls: 'stun:stun.stunprotocol.org',\r\n                    },\r\n                    {\r\n                        urls: 'turn:numb.viagenie.ca',\r\n                        credential: 'vidokchat',\r\n                        username: 'networkroom@live.com',\r\n                    },\r\n                ],\r\n            });\r\n\r\n            peer.onicecandidate = handleICECandidateEvent;\r\n            peer.ontrack = handleTrackEvent;\r\n            peer.onnegotiationneeded = () =>\r\n                handleNegotiationNeededEvent(userID);\r\n\r\n            return peer;\r\n        }\r\n\r\n        function handleRecieveCall(incoming) {\r\n            peerRef.current = createPeer();\r\n            const desc = new RTCSessionDescription(incoming.sdp);\r\n            peerRef.current\r\n                .setRemoteDescription(desc)\r\n                .then(() => {\r\n                    userStream.current\r\n                        .getTracks()\r\n                        .forEach((track) =>\r\n                            peerRef.current.addTrack(track, userStream.current),\r\n                        );\r\n                })\r\n                .then(() => {\r\n                    return peerRef.current.createAnswer();\r\n                })\r\n                .then((answer) => {\r\n                    return peerRef.current.setLocalDescription(answer);\r\n                })\r\n                .then(() => {\r\n                    const payload = {\r\n                        target: incoming.caller,\r\n                        caller: socketRef.current.id,\r\n                        sdp: peerRef.current.localDescription,\r\n                    };\r\n                    socketRef.current.emit('answer', payload);\r\n                });\r\n        }\r\n\r\n        navigator.mediaDevices.getUserMedia(constraints).then((stream) => {\r\n            userVideo.current.srcObject = stream;\r\n            userStream.current = stream;\r\n\r\n            socketRef.current = io.connect('/');\r\n            socketRef.current.emit('join room', id);\r\n            socketRef.current.on('other user', (userID) => {\r\n                setUpdate(true);\r\n                callUser(userID);\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('user joined', (userID) => {\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('offer', handleRecieveCall);\r\n\r\n            socketRef.current.on('answer', handleAnswer);\r\n\r\n            socketRef.current.on('ice-candidate', handleNewICECandidateMsg);\r\n        });\r\n\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, [id, constraints]);\r\n\r\n    function handleNegotiationNeededEvent(userID) {\r\n        peerRef.current\r\n            .createOffer()\r\n            .then((offer) => {\r\n                return peerRef.current.setLocalDescription(offer);\r\n            })\r\n            .then(() => {\r\n                const payload = {\r\n                    target: userID,\r\n                    caller: socketRef.current.id,\r\n                    sdp: peerRef.current.localDescription,\r\n                };\r\n                socketRef.current.emit('offer', payload);\r\n            })\r\n            .catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleAnswer(message) {\r\n        const desc = new RTCSessionDescription(message.sdp);\r\n        peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleICECandidateEvent(e) {\r\n        if (e.candidate) {\r\n            const payload = {\r\n                target: otherUser.current,\r\n                candidate: e.candidate,\r\n            };\r\n            socketRef.current.emit('ice-candidate', payload);\r\n        }\r\n    }\r\n\r\n    function handleNewICECandidateMsg(incoming) {\r\n        const candidate = new RTCIceCandidate(incoming);\r\n\r\n        peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleTrackEvent(e) {\r\n        partnerVideo.current.srcObject = e.streams[0];\r\n    }\r\n\r\n    function handleShareMonitor() {\r\n        if (senders.current.length === 0) {\r\n            return false;\r\n        } else {\r\n            navigator.mediaDevices\r\n                .getDisplayMedia({ cursor: true })\r\n                .then((stream) => {\r\n                    const screenTrack = stream.getTracks()[0];\r\n                    senders.current\r\n                        .find((sender) => sender.track.kind === 'video')\r\n                        .replaceTrack(screenTrack);\r\n                    screenTrack.onended = function () {\r\n                        senders.current\r\n                            .find((sender) => sender.track.kind === 'video')\r\n                            .replaceTrack(userStream.current.getTracks()[1]);\r\n                    };\r\n                });\r\n        }\r\n    }\r\n\r\n    function handleToggleSettings() {\r\n        setSettings(!settings);\r\n    }\r\n\r\n    function handleToggleSound() {\r\n        setSound(!sound);\r\n    }\r\n\r\n    function handleToggleMic() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getAudioTracks().length > 0\r\n        ) {\r\n            userStream.current.getAudioTracks()[0].enabled = !audio;\r\n            setAudio(!audio);\r\n        }\r\n    }\r\n\r\n    function handleToggleCamera() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getVideoTracks().length > 0\r\n        ) {\r\n            userStream.current.getVideoTracks()[0].enabled = !video;\r\n            setVideo(!video);\r\n        }\r\n    }\r\n\r\n    function handleToggleFullScreen() {\r\n        setFullScreen(!fullScreen);\r\n    }\r\n\r\n    function handleToggleMirror() {\r\n        setMirror(!mirror);\r\n    }\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setIsCopied(true);\r\n                setTimeout(() => setIsCopied(false), 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n\r\n        setTimeout(() => {\r\n            handleShareLink();\r\n        }, 1800);\r\n    }\r\n\r\n    function handleShareLink() {\r\n        setShareLink(!shareLink);\r\n    }\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            {onlyAudio ? (\r\n                <AudioMeter\r\n                    userStream={userStream.current}\r\n                    number={32}\r\n                    widthLine={10}\r\n                    heightLine={100}\r\n                    lineClass=\"line-meter\"\r\n                    meterClass=\"big-meter\"\r\n                    model=\"big\"\r\n                />\r\n            ) : (\r\n                <AudioMeter\r\n                    userStream={userStream.current}\r\n                    number={24}\r\n                    widthLine={3}\r\n                    heightLine={40}\r\n                    lineClass=\"line-small-meter\"\r\n                    meterClass=\"small-meter\"\r\n                    model=\"small\"\r\n                />\r\n            )}\r\n\r\n            <div\r\n                className=\"video\"\r\n                style={onlyAudio ? { visibility: 'hidden' } : null}\r\n            >\r\n                <video\r\n                    id=\"partner\"\r\n                    poster=\"images/poster.jpg\"\r\n                    autoPlay\r\n                    muted={sound}\r\n                    ref={partnerVideo}\r\n                    className={[\r\n                        mirror ? 'mirror' : null,\r\n                        fullScreen ? 'active' : null,\r\n                    ].join(' ')}\r\n                ></video>\r\n                <div className=\"user-video\">\r\n                    <video\r\n                        autoPlay\r\n                        muted\r\n                        ref={userVideo}\r\n                        poster=\"images/poster.jpg\"\r\n                    ></video>\r\n                </div>\r\n            </div>\r\n\r\n            <StreamControl\r\n                handleShareLink={handleShareLink}\r\n                handleToggleMic={handleToggleMic}\r\n                audio={audio}\r\n                handleToggleCamera={handleToggleCamera}\r\n                video={video}\r\n                handleToggleSound={handleToggleSound}\r\n                sound={sound}\r\n                handleToggleFullScreen={handleToggleFullScreen}\r\n                handleShareMonitor={handleShareMonitor}\r\n                handleToggleSettings={handleToggleSettings}\r\n                handleToggleMirror={handleToggleMirror}\r\n                otherUser={otherUser.current}\r\n                update={update}\r\n                mirror={mirror}\r\n                fullScreen={fullScreen}\r\n                onlyAudio={onlyAudio}\r\n            />\r\n\r\n            <LinkRoom\r\n                shareLink={shareLink}\r\n                handleShareLink={handleShareLink}\r\n                handleCopyLink={handleCopyLink}\r\n                copied={isCopied}\r\n                url={window.location.href}\r\n            />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nexport default function AudioInputMeter() {\r\n    let audioContext = useRef(null);\r\n    let canvasContext = useRef(null);\r\n    let canvasMeter = useRef(null);\r\n    var mediaStreamSource = null;\r\n    let meter = null;\r\n    let rafID = null;\r\n    let WIDTH = 400;\r\n    let HEIGHT = 10;\r\n\r\n    useEffect(() => {\r\n        canvasMeter.current = canvasContext.current.getContext('2d');\r\n\r\n        window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n        audioContext.current = new AudioContext();\r\n\r\n        try {\r\n            navigator.getUserMedia =\r\n                navigator.getUserMedia ||\r\n                navigator.webkitGetUserMedia ||\r\n                navigator.mozGetUserMedia;\r\n\r\n            navigator.getUserMedia(\r\n                {\r\n                    audio: {\r\n                        mandatory: {\r\n                            googEchoCancellation: 'false',\r\n                            googAutoGainControl: 'false',\r\n                            googNoiseSuppression: 'false',\r\n                            googHighpassFilter: 'false',\r\n                        },\r\n                        optional: [],\r\n                    },\r\n                },\r\n                gotStream,\r\n                didntGetStream,\r\n            );\r\n        } catch (e) {\r\n            alert('getUserMedia threw exception :' + e);\r\n        }\r\n\r\n        function didntGetStream() {\r\n            alert('Stream generation failed.');\r\n        }\r\n    });\r\n\r\n    function gotStream(stream) {\r\n        mediaStreamSource = audioContext.current.createMediaStreamSource(\r\n            stream,\r\n        );\r\n        meter = createAudioMeter(audioContext.current);\r\n        mediaStreamSource.connect(meter);\r\n\r\n        drawLoop();\r\n    }\r\n\r\n    function drawLoop() {\r\n        canvasMeter.current.clearRect(0, 0, WIDTH, HEIGHT);\r\n\r\n        if (meter.checkClipping()) {\r\n            canvasMeter.current.fillStyle = 'red';\r\n        } else {\r\n            canvasMeter.current.fillStyle = 'green';\r\n        }\r\n\r\n        canvasMeter.current.fillRect(0, 0, meter.volume * WIDTH * 1.4, HEIGHT);\r\n\r\n        rafID = window.requestAnimationFrame(drawLoop);\r\n        return rafID;\r\n    }\r\n\r\n    function createAudioMeter(audioContext, clipLevel, averaging, clipLag) {\r\n        var processor = audioContext.createScriptProcessor(256);\r\n\r\n        processor.onaudioprocess = volumeAudioProcess;\r\n        processor.clipping = false;\r\n        processor.lastClip = 0;\r\n        processor.volume = 0;\r\n        processor.clipLevel = clipLevel || 0.98;\r\n        processor.averaging = averaging || 0.95;\r\n        processor.clipLag = clipLag || 750;\r\n\r\n        processor.connect(audioContext.destination);\r\n\r\n        processor.checkClipping = function () {\r\n            if (!this.clipping) return false;\r\n            if (this.lastClip + this.clipLag < window.performance.now())\r\n                this.clipping = false;\r\n            return this.clipping;\r\n        };\r\n\r\n        processor.shutdown = function () {\r\n            this.disconnect();\r\n            this.onaudioprocess = null;\r\n        };\r\n\r\n        return processor;\r\n    }\r\n\r\n    function volumeAudioProcess(event) {\r\n        const buf = event.inputBuffer.getChannelData(0);\r\n        let bufLength = buf.length;\r\n        let sum = 0;\r\n        let x;\r\n\r\n        for (let i = 0; i < bufLength; i++) {\r\n            x = buf[i];\r\n            if (Math.abs(x) >= this.clipLevel) {\r\n                this.clipping = true;\r\n                this.lastClip = window.performance.now();\r\n            }\r\n            sum += x * x;\r\n        }\r\n\r\n        let rms = Math.sqrt(sum / bufLength);\r\n        this.volume = Math.max(rms, this.volume * this.averaging);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <canvas\r\n                className=\"audio-indicator\"\r\n                id=\"meter\"\r\n                height=\"10\"\r\n                ref={canvasContext}\r\n            ></canvas>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useRef, useEffect } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport AudioInputMeter from './AudioInputMeter';\r\n\r\nexport default function Settings({ startChat, handleOnlyAudio, onlyAudio }) {\r\n    const videoElement = useRef();\r\n    const audioInputSelect = useRef();\r\n    const audioOutputSelect = useRef();\r\n    const videoSelect = useRef();\r\n    const constraints = useRef();\r\n\r\n    useEffect(() => {\r\n        const selectors = [\r\n            audioInputSelect.current,\r\n            audioOutputSelect.current,\r\n            videoSelect.current,\r\n        ];\r\n        audioOutputSelect.current.disabled = !(\r\n            'sinkId' in HTMLMediaElement.prototype\r\n        );\r\n\r\n        function gotDevices(deviceInfos) {\r\n            const values = selectors.map((select) => select.value);\r\n            selectors.forEach((select) => {\r\n                while (select.firstChild) {\r\n                    select.removeChild(select.firstChild);\r\n                }\r\n            });\r\n\r\n            for (let i = 0; i !== deviceInfos.length; ++i) {\r\n                const deviceInfo = deviceInfos[i];\r\n                const option = document.createElement('option');\r\n                option.value = deviceInfo.deviceId;\r\n                if (deviceInfo.kind === 'audioinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `microphone ${audioInputSelect.current.length + 1}`;\r\n                    audioInputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'audiooutput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `speaker ${audioOutputSelect.current.length + 1}`;\r\n                    audioOutputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'videoinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `camera ${videoSelect.current.length + 1}`;\r\n                    videoSelect.current.appendChild(option);\r\n                } else {\r\n                    console.log(\r\n                        'Some other kind of source/device: ',\r\n                        deviceInfo,\r\n                    );\r\n                }\r\n            }\r\n\r\n            selectors.forEach((select, selectorIndex) => {\r\n                if (\r\n                    Array.prototype.slice\r\n                        .call(select.childNodes)\r\n                        .some((n) => n.value === values[selectorIndex])\r\n                ) {\r\n                    select.value = values[selectorIndex];\r\n                }\r\n            });\r\n        }\r\n\r\n        navigator.mediaDevices\r\n            .enumerateDevices()\r\n            .then(gotDevices)\r\n            .catch(handleError);\r\n\r\n        function changeAudioDestination() {\r\n            const audioDestination = audioOutputSelect.current.value;\r\n            attachSinkId(videoElement.current, audioDestination);\r\n        }\r\n\r\n        function start() {\r\n            const audioSource = audioInputSelect.current.value;\r\n            const videoSource = videoSelect.current.value;\r\n\r\n            constraints.current = {\r\n                audio: {\r\n                    deviceId: audioSource ? { exact: audioSource } : undefined,\r\n                },\r\n                video: onlyAudio\r\n                    ? false\r\n                    : {\r\n                          deviceId: videoSource\r\n                              ? { exact: videoSource }\r\n                              : undefined,\r\n                      },\r\n            };\r\n\r\n            navigator.mediaDevices\r\n                .getUserMedia(constraints.current)\r\n                .then(gotStream)\r\n                .then(gotDevices)\r\n                .catch(handleError);\r\n        }\r\n\r\n        audioInputSelect.current.onchange = start;\r\n        audioOutputSelect.current.onchange = changeAudioDestination;\r\n\r\n        videoSelect.current.onchange = start;\r\n\r\n        start();\r\n\r\n        function handleError(error) {\r\n            handleOnlyAudio();\r\n            console.log(\r\n                'navigator.MediaDevices.getUserMedia error: ',\r\n                error.message,\r\n                error.name,\r\n            );\r\n        }\r\n    }, [onlyAudio, handleOnlyAudio]);\r\n\r\n    function attachSinkId(element, sinkId) {\r\n        if (typeof element.sinkId !== 'undefined') {\r\n            element\r\n                .setSinkId(sinkId)\r\n                .then(() => {\r\n                    console.log(\r\n                        `Success, audio output device attached: ${sinkId}`,\r\n                    );\r\n                })\r\n                .catch((error) => {\r\n                    let errorMessage = error;\r\n                    if (error.name === 'SecurityError') {\r\n                        errorMessage = `You need to use HTTPS for selecting audio output device: ${error}`;\r\n                    }\r\n                    console.error(errorMessage);\r\n                    // Jump back to first output device in the list as it's the default.\r\n                    audioOutputSelect.current.selectedIndex = 0;\r\n                });\r\n        } else {\r\n            console.warn('Browser does not support output device selection.');\r\n        }\r\n    }\r\n\r\n    function gotStream(stream) {\r\n        videoElement.current.srcObject = stream;\r\n        return navigator.mediaDevices.enumerateDevices();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <section className=\"create-room settings\">\r\n                    <h2>\r\n                        Configure your {onlyAudio ? null : 'camera and '} audio\r\n                        devices\r\n                    </h2>\r\n\r\n                    {onlyAudio && (\r\n                        <h3>\r\n                            You do not have a video camera connected,\r\n                            <br /> you can only communicate by voice\r\n                        </h3>\r\n                    )}\r\n\r\n                    <div className={[onlyAudio ? 'invisible' : null]}>\r\n                        <div className=\"video-content\">\r\n                            <video\r\n                                id=\"video\"\r\n                                poster=\"images/poster.jpg\"\r\n                                autoPlay\r\n                                playsInline\r\n                                ref={videoElement}\r\n                            ></video>\r\n                        </div>\r\n\r\n                        <div className=\"select\">\r\n                            <label htmlFor=\"videoSource\">Video source:</label>\r\n                            <select id=\"videoSource\" ref={videoSelect}></select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioSource\">Audio input:</label>\r\n                        <AudioInputMeter />\r\n                        <select\r\n                            id=\"audioSource\"\r\n                            ref={audioInputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioOutput\">Audio output:</label>\r\n                        <select\r\n                            id=\"audioOutput\"\r\n                            ref={audioOutputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"crete-info\">\r\n                        <b>Note:</b> If you hear a reverb sound your microphone\r\n                        is picking up the output of your speakers/headset, lower\r\n                        the volume and/or move the microphone further away from\r\n                        your speakers/headset.\r\n                    </div>\r\n\r\n                    <div className=\"btn-go\">\r\n                        <button onClick={() => startChat(constraints.current)}>\r\n                            Start {onlyAudio ? 'Audio' : 'Video'} Chat\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport ExitButton from '../components/ExitButton';\r\nimport Loader from '../components/Loader';\r\nimport VideoPlayer from '../components/VideoPlayer';\r\nimport Settings from '../components/Settings';\r\n\r\nconst Room = ({ match, history }) => {\r\n    const [constraints, setConstraints] = useState({});\r\n    const [onlyAudio, setOnlyAudio] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [open, setSOpen] = useState(false);\r\n\r\n    const id = match.params.roomID;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    });\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    const startChat = (param) => {\r\n        setConstraints(param);\r\n        setSOpen(true);\r\n    };\r\n\r\n    const handleOnlyAudio = () => {\r\n        setOnlyAudio(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            {!open && (\r\n                <Settings\r\n                    startChat={startChat}\r\n                    handleOnlyAudio={handleOnlyAudio}\r\n                    onlyAudio={onlyAudio}\r\n                />\r\n            )}\r\n\r\n            {open && (\r\n                <VideoPlayer\r\n                    id={id}\r\n                    history={history}\r\n                    constraints={constraints}\r\n                    onlyAudio={onlyAudio}\r\n                />\r\n            )}\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Room;\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CreateRoom from './P2P_VideoAudioChat/CreateRoom';\nimport Room from './P2P_VideoAudioChat/Room';\n\nfunction App() {\n    return (\n        <>\n            <BrowserRouter>\n                <Switch>\n                    <Route path=\"/\" exact component={CreateRoom} />\n                    <Route path=\"/room/:roomID\" component={Room} />\n                </Switch>\n            </BrowserRouter>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}