{"version":3,"sources":["components/Header.js","components/Footer.js","components/CopyLink.js","components/QRCodeImage.js","components/Loader.js","P2P_VideoAudioChat/CreateRoom.js","components/ExitButton.js","components/LinkRoom.js","components/StreamControl.js","components/VideoPlayer.js","components/Settings.js","P2P_VideoAudioChat/Room.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","src","alt","Footer","href","target","rel","CopyLink","url","useState","copied","setCopied","onClick","navigator","clipboard","writeText","then","setTimeout","catch","err","console","log","handleCopyLink","QRCodeImage","value","bgColor","fgColor","size","Loader","CreateRoom","history","spinner","setSpinner","browser","userAgent","toLowerCase","is_IE","test","useEffect","id","uuid","window","location","push","ExitButton","exitRoom","title","LinkRoom","shareLink","handleShareLink","join","type","onChange","document","fullscreenElement","Object","defineProperty","get","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","mozFullScreenEnabled","msFullscreenEnabled","webkitFullscreenEnabled","StreamControl","handleToggleMic","audio","handleToggleCamera","video","handleToggleSound","sound","handleToggleFullScreen","handleShareMonitor","handleToggleMirror","mirror","update","fullScreen","onlyAudio","fullMonitor","setFullMonitor","style","display","exitFullscreen","documentElement","requestFullscreen","VideoPlayer","constraints","setAudio","setVideo","setSound","isCopied","setIsCopied","setFullScreen","setMirror","settings","setSettings","setShareLink","setUpdate","userVideo","useRef","partnerVideo","peerRef","socketRef","otherUser","userStream","senders","handleAnswer","message","desc","RTCSessionDescription","sdp","current","setRemoteDescription","e","handleICECandidateEvent","candidate","payload","emit","handleNewICECandidateMsg","incoming","RTCIceCandidate","addIceCandidate","handleTrackEvent","srcObject","streams","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","ontrack","onnegotiationneeded","createOffer","offer","setLocalDescription","caller","localDescription","handleNegotiationNeededEvent","handleRecieveCall","getTracks","forEach","track","addTrack","createAnswer","answer","mediaDevices","getUserMedia","stream","io","connect","on","callUser","visibility","poster","autoPlay","muted","ref","getAudioTracks","length","enabled","getVideoTracks","getDisplayMedia","cursor","screenTrack","find","sender","kind","replaceTrack","onended","handleToggleSettings","Settings","startChat","handleOnlyAudio","videoElement","audioInputSelect","audioOutputSelect","videoSelect","gotStream","enumerateDevices","selectors","gotDevices","deviceInfos","values","map","select","firstChild","removeChild","i","deviceInfo","option","createElement","deviceId","text","label","appendChild","selectorIndex","Array","prototype","slice","call","childNodes","some","n","start","audioSource","videoSource","exact","undefined","handleError","error","name","disabled","HTMLMediaElement","onchange","element","sinkId","audioDestination","setSinkId","errorMessage","selectedIndex","warn","playsInline","htmlFor","Room","match","setConstraints","setOnlyAudio","open","setSOpen","params","roomID","param","App","path","component","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"qLAiBeA,EAfA,WACX,OACI,4BAAQC,UAAU,UACd,yBAAKA,UAAU,eACX,4BACI,0BAAMA,UAAU,QACZ,yBAAKC,IAAI,kBAAkBC,IAAI,UAFvC,aCaDC,EAjBA,WACX,OACI,4BAAQH,UAAU,UACd,mFACuD,IACnD,uBACII,KAAK,gDACLC,OAAO,SACPC,IAAI,uBAHR,aCoBDC,EAzBE,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAAU,EACEC,oBAAS,GADX,mBACnBC,EADmB,KACXC,EADW,KAiB1B,OACI,yBAAKX,UAAU,OAAOY,QAAS,kBAfnC,SAAwBJ,GACpBK,UAAUC,UACLC,UAAUP,GACVQ,MAAK,WACFL,GAAU,GACVM,YAAW,WACPN,GAAU,KACX,QAENO,OAAM,SAACC,GACJC,QAAQC,IAAI,uBAAwBF,MAKPG,CAAed,KAC/CE,GAAU,0BAAMV,UAAU,UAAhB,WACX,yBAAKC,IAAI,uBAAuBC,IAAI,O,iBCRjCqB,EAXK,SAAC,GAAa,IAAXf,EAAU,EAAVA,IACnB,OACI,kBAAC,IAAD,CACIgB,MAAOhB,EACPiB,QAAS,UACTC,QAAS,UACTC,KAAM,OC2LHC,EAlMA,WACX,OACI,yBAAK5B,UAAU,UACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,U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","file":"static/js/main.9aaeb866.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header-wrap\">\r\n                <h1>\r\n                    <span className=\"logo\">\r\n                        <img src=\"images/logo.svg\" alt=\"Logo\" />\r\n                    </span>\r\n                    VID.OK\r\n                </h1>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>\r\n                © 2020 | VID.OK | Created by Dmitriy Zatulovskiy |{' '}\r\n                <a\r\n                    href=\"https://github.com/GrafSoul/webrtc-video-chat\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                >\r\n                    GitHub\r\n                </a>\r\n            </p>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\n\r\nconst CopyLink = ({ url }) => {\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setCopied(true);\r\n                setTimeout(() => {\r\n                    setCopied(false);\r\n                }, 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"copy\" onClick={() => handleCopyLink(url)}>\r\n            {copied && <span className=\"copied\">Copied!</span>}\r\n            <img src=\"images/icon_copy.svg\" alt=\"\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CopyLink;\r\n","import React from 'react';\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst QRCodeImage = ({ url }) => {\r\n    return (\r\n        <QRCode\r\n            value={url}\r\n            bgColor={'#1d3850'}\r\n            fgColor={'#bebebe'}\r\n            size={200}\r\n        />\r\n    );\r\n};\r\n\r\nexport default QRCodeImage;\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"socket\">\r\n            <div className=\"gel center-gel\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c1 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c2 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c3 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c4 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c5 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c6 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c7 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c8 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c9 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c10 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c11 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c12 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c13 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c14 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c15 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c16 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c17 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c18 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c19 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c20 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c21 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c22 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c23 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c24 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c25 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c26 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c28 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c29 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c30 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c31 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c32 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c33 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c34 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c35 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c36 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c37 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { v1 as uuid } from 'uuid';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport CopyLink from '../components/CopyLink';\r\nimport QRCodeImage from '../components/QRCodeImage';\r\nimport Loader from '../components/Loader';\r\n\r\nconst CreateRoom = ({ history }) => {\r\n    const [spinner, setSpinner] = useState(false);\r\n\r\n    const browser = navigator.userAgent.toLowerCase();\r\n    const is_IE =\r\n        /trident/gi.test(browser) ||\r\n        /msie/gi.test(browser) ||\r\n        /edge/gi.test(browser);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, []);\r\n\r\n    const id = uuid();\r\n    const url = window.location.href + `room/${id}`;\r\n\r\n    const createRoom = () => {\r\n        history.push(`/room/${id}`);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"container\">\r\n                <main>\r\n                    {is_IE ? (\r\n                        <section className=\"create-room\">\r\n                            <div className=\"crete-info\">\r\n                                <h2>\r\n                                    You are using a browser that does not\r\n                                    support the technologies used in this\r\n                                    service\r\n                                </h2>\r\n\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                            </div>\r\n                        </section>\r\n                    ) : (\r\n                        <section className=\"create-room\">\r\n                            <div className=\"crete-info\">\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                                <p>\r\n                                    To create a connection, click on the button\r\n                                    - <strong>\"Create Room\"</strong> and send\r\n                                    the link to the person with whom you want to\r\n                                    communicate.\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"link-url\">\r\n                                <CopyLink url={url} />\r\n                                <p>{url}</p>\r\n                            </div>\r\n\r\n                            <div className=\"qrcode\">\r\n                                <QRCodeImage url={url} />\r\n                            </div>\r\n\r\n                            <div className=\"btn-go\">\r\n                                <button onClick={() => createRoom()}>\r\n                                    Create a New Connection\r\n                                </button>\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            <Footer />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateRoom;\r\n","import React from 'react';\r\n\r\nconst ExitButton = ({ exitRoom }) => {\r\n    return (\r\n        <div className=\"btn-exit-wrap\">\r\n            <button className=\"btn-exit\" onClick={exitRoom} title=\"Exit\">\r\n                <span className=\"icon icon-exit\"></span>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ExitButton;\r\n","import React from 'react';\r\n\r\nimport QRCodeImage from './QRCodeImage';\r\n\r\nconst LinkRoom = ({\r\n    shareLink,\r\n    handleShareLink,\r\n    handleCopyLink,\r\n    copied,\r\n    url,\r\n}) => {\r\n    return (\r\n        <div className={['link', shareLink ? 'active' : null].join(' ')}>\r\n            <button\r\n                className=\"btn-close\"\r\n                onClick={handleShareLink}\r\n                title=\"Close\"\r\n            >\r\n                <span className=\"icon icon-close\"></span>\r\n            </button>\r\n\r\n            <h2>Contact link</h2>\r\n            <p className=\"link-info\">\r\n                Copy the link and send it to the person you want to meet in a\r\n                video chat\r\n            </p>\r\n            <p className=\"link-url\">\r\n                <input type=\"text\" value={url} onChange={() => {}} />\r\n            </p>\r\n\r\n            <div className=\"link-copy\">\r\n                <button onClick={() => handleCopyLink(url)}>Copy link</button>{' '}\r\n                {copied && <span className=\"copyed\">Copied!</span>}\r\n            </div>\r\n\r\n            <p className=\"link-info\">\r\n                Use as an option. Scan QRCode and send the resulting link to the\r\n                person with who want to start communicating in video chat\r\n            </p>\r\n            <div className=\"link-qrcode\">\r\n                <QRCodeImage url={url} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LinkRoom;\r\n","import React, { useState } from 'react';\r\n\r\nif (!document.fullscreenElement) {\r\n    Object.defineProperty(document, 'fullscreenElement', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenElement ||\r\n                document.msFullscreenElement ||\r\n                document.webkitFullscreenElement\r\n            );\r\n        },\r\n    });\r\n\r\n    Object.defineProperty(document, 'fullscreenEnabled', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenEnabled ||\r\n                document.msFullscreenEnabled ||\r\n                document.webkitFullscreenEnabled\r\n            );\r\n        },\r\n    });\r\n}\r\n\r\nconst StreamControl = ({\r\n    handleShareLink,\r\n    handleToggleMic,\r\n    audio,\r\n    handleToggleCamera,\r\n    video,\r\n    handleToggleSound,\r\n    sound,\r\n    handleToggleFullScreen,\r\n    handleShareMonitor,\r\n    handleToggleMirror,\r\n    mirror,\r\n    update,\r\n    fullScreen,\r\n    onlyAudio,\r\n}) => {\r\n    const [fullMonitor, setFullMonitor] = useState(false);\r\n\r\n    const handleFullscreen = () => {\r\n        if (document.fullscreenElement) {\r\n            document.exitFullscreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n        setFullMonitor(!fullMonitor);\r\n        return false;\r\n    };\r\n\r\n    return (\r\n        <div className=\"stream-control\">\r\n            <div className=\"btn-link\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleShareLink}\r\n                    title=\"Open Link\"\r\n                >\r\n                    <span className=\"icon icon-link\"></span>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"btn-group\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleMic}\r\n                    title=\"Microphone ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-mic',\r\n                            audio ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleSound}\r\n                    title=\"Sound ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-sound',\r\n                            sound ? 'off' : null,\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <span style={onlyAudio ? { display: 'none' } : null}>\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleCamera}\r\n                        title=\"Camera ON/OFF\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-camera',\r\n                                video ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleMirror}\r\n                        title=\"Mirror\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-mirror',\r\n                                mirror ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleFullScreen}\r\n                        title=\"Fullscreen ON/OFF\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-fullscreen',\r\n                                fullScreen ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={() => handleFullscreen()}\r\n                        title=\"Monitor\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-monitor',\r\n                                fullMonitor ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n                </span>\r\n\r\n                {update && !onlyAudio && (\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleShareMonitor}\r\n                        title=\"Share Content\"\r\n                    >\r\n                        <span className=\"icon icon-share\"></span>\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StreamControl;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport LinkRoom from './LinkRoom';\r\nimport StreamControl from './StreamControl';\r\nimport ExitButton from './ExitButton';\r\nimport Loader from './Loader';\r\n\r\nconst VideoPlayer = ({ id, history, constraints, onlyAudio }) => {\r\n    const [audio, setAudio] = useState(true);\r\n    const [video, setVideo] = useState(true);\r\n    const [sound, setSound] = useState(false);\r\n    const [isCopied, setIsCopied] = useState(false);\r\n    const [fullScreen, setFullScreen] = useState(false);\r\n    const [mirror, setMirror] = useState(false);\r\n    const [settings, setSettings] = useState(false);\r\n    const [shareLink, setShareLink] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [update, setUpdate] = useState(false);\r\n\r\n    const userVideo = useRef();\r\n    const partnerVideo = useRef();\r\n\r\n    const peerRef = useRef();\r\n    const socketRef = useRef();\r\n    const otherUser = useRef();\r\n    const userStream = useRef();\r\n    const senders = useRef([]);\r\n\r\n    useEffect(() => {\r\n        function callUser(userID) {\r\n            peerRef.current = createPeer(userID);\r\n            userStream.current\r\n                .getTracks()\r\n                .forEach((track) =>\r\n                    senders.current.push(\r\n                        peerRef.current.addTrack(track, userStream.current),\r\n                    ),\r\n                );\r\n        }\r\n\r\n        function createPeer(userID) {\r\n            const peer = new RTCPeerConnection({\r\n                iceServers: [\r\n                    {\r\n                        urls: 'stun:stun.stunprotocol.org',\r\n                    },\r\n                    {\r\n                        urls: 'turn:numb.viagenie.ca',\r\n                        credential: 'muazkh',\r\n                        username: 'webrtc@live.com',\r\n                    },\r\n                ],\r\n            });\r\n\r\n            peer.onicecandidate = handleICECandidateEvent;\r\n            peer.ontrack = handleTrackEvent;\r\n            peer.onnegotiationneeded = () =>\r\n                handleNegotiationNeededEvent(userID);\r\n\r\n            return peer;\r\n        }\r\n\r\n        function handleRecieveCall(incoming) {\r\n            peerRef.current = createPeer();\r\n            const desc = new RTCSessionDescription(incoming.sdp);\r\n            peerRef.current\r\n                .setRemoteDescription(desc)\r\n                .then(() => {\r\n                    userStream.current\r\n                        .getTracks()\r\n                        .forEach((track) =>\r\n                            peerRef.current.addTrack(track, userStream.current),\r\n                        );\r\n                })\r\n                .then(() => {\r\n                    return peerRef.current.createAnswer();\r\n                })\r\n                .then((answer) => {\r\n                    return peerRef.current.setLocalDescription(answer);\r\n                })\r\n                .then(() => {\r\n                    const payload = {\r\n                        target: incoming.caller,\r\n                        caller: socketRef.current.id,\r\n                        sdp: peerRef.current.localDescription,\r\n                    };\r\n                    socketRef.current.emit('answer', payload);\r\n                });\r\n        }\r\n\r\n        navigator.mediaDevices.getUserMedia(constraints).then((stream) => {\r\n            userVideo.current.srcObject = stream;\r\n            userStream.current = stream;\r\n\r\n            socketRef.current = io.connect('/');\r\n            socketRef.current.emit('join room', id);\r\n            socketRef.current.on('other user', (userID) => {\r\n                setUpdate(true);\r\n                callUser(userID);\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('user joined', (userID) => {\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('offer', handleRecieveCall);\r\n\r\n            socketRef.current.on('answer', handleAnswer);\r\n\r\n            socketRef.current.on('ice-candidate', handleNewICECandidateMsg);\r\n        });\r\n\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, [id, constraints]);\r\n\r\n    function handleNegotiationNeededEvent(userID) {\r\n        peerRef.current\r\n            .createOffer()\r\n            .then((offer) => {\r\n                return peerRef.current.setLocalDescription(offer);\r\n            })\r\n            .then(() => {\r\n                const payload = {\r\n                    target: userID,\r\n                    caller: socketRef.current.id,\r\n                    sdp: peerRef.current.localDescription,\r\n                };\r\n                socketRef.current.emit('offer', payload);\r\n            })\r\n            .catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleAnswer(message) {\r\n        const desc = new RTCSessionDescription(message.sdp);\r\n        peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleICECandidateEvent(e) {\r\n        if (e.candidate) {\r\n            const payload = {\r\n                target: otherUser.current,\r\n                candidate: e.candidate,\r\n            };\r\n            socketRef.current.emit('ice-candidate', payload);\r\n        }\r\n    }\r\n\r\n    function handleNewICECandidateMsg(incoming) {\r\n        const candidate = new RTCIceCandidate(incoming);\r\n\r\n        peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleTrackEvent(e) {\r\n        partnerVideo.current.srcObject = e.streams[0];\r\n    }\r\n\r\n    function handleShareMonitor() {\r\n        if (senders.current.length === 0) {\r\n            return false;\r\n        } else {\r\n            navigator.mediaDevices\r\n                .getDisplayMedia({ cursor: true })\r\n                .then((stream) => {\r\n                    const screenTrack = stream.getTracks()[0];\r\n                    senders.current\r\n                        .find((sender) => sender.track.kind === 'video')\r\n                        .replaceTrack(screenTrack);\r\n                    screenTrack.onended = function () {\r\n                        senders.current\r\n                            .find((sender) => sender.track.kind === 'video')\r\n                            .replaceTrack(userStream.current.getTracks()[1]);\r\n                    };\r\n                });\r\n        }\r\n    }\r\n\r\n    function handleToggleSettings() {\r\n        setSettings(!settings);\r\n    }\r\n\r\n    function handleToggleSound() {\r\n        setSound(!sound);\r\n    }\r\n\r\n    function handleToggleMic() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getAudioTracks().length > 0\r\n        ) {\r\n            userStream.current.getAudioTracks()[0].enabled = !audio;\r\n            setAudio(!audio);\r\n        }\r\n    }\r\n\r\n    function handleToggleCamera() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getVideoTracks().length > 0\r\n        ) {\r\n            userStream.current.getVideoTracks()[0].enabled = !video;\r\n            setVideo(!video);\r\n        }\r\n    }\r\n\r\n    function handleToggleFullScreen() {\r\n        setFullScreen(!fullScreen);\r\n    }\r\n\r\n    function handleToggleMirror() {\r\n        setMirror(!mirror);\r\n    }\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setIsCopied(true);\r\n                setTimeout(() => setIsCopied(false), 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n\r\n        setTimeout(() => {\r\n            handleShareLink();\r\n        }, 1800);\r\n    }\r\n\r\n    function handleShareLink() {\r\n        setShareLink(!shareLink);\r\n    }\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            <div\r\n                className=\"video\"\r\n                style={onlyAudio ? { visibility: 'hidden' } : null}\r\n            >\r\n                <video\r\n                    id=\"partner\"\r\n                    poster=\"images/poster.jpg\"\r\n                    autoPlay\r\n                    muted={sound}\r\n                    ref={partnerVideo}\r\n                    className={[\r\n                        mirror ? 'mirror' : null,\r\n                        fullScreen ? 'active' : null,\r\n                    ].join(' ')}\r\n                ></video>\r\n                <div className=\"user-video\">\r\n                    <video\r\n                        autoPlay\r\n                        muted\r\n                        ref={userVideo}\r\n                        poster=\"images/poster.jpg\"\r\n                    ></video>\r\n                </div>\r\n            </div>\r\n\r\n            <StreamControl\r\n                handleShareLink={handleShareLink}\r\n                handleToggleMic={handleToggleMic}\r\n                audio={audio}\r\n                handleToggleCamera={handleToggleCamera}\r\n                video={video}\r\n                handleToggleSound={handleToggleSound}\r\n                sound={sound}\r\n                handleToggleFullScreen={handleToggleFullScreen}\r\n                handleShareMonitor={handleShareMonitor}\r\n                handleToggleSettings={handleToggleSettings}\r\n                handleToggleMirror={handleToggleMirror}\r\n                otherUser={otherUser.current}\r\n                update={update}\r\n                mirror={mirror}\r\n                fullScreen={fullScreen}\r\n                onlyAudio={onlyAudio}\r\n            />\r\n\r\n            <LinkRoom\r\n                shareLink={shareLink}\r\n                handleShareLink={handleShareLink}\r\n                handleCopyLink={handleCopyLink}\r\n                copied={isCopied}\r\n                url={window.location.href}\r\n            />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React, { useRef, useEffect } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nexport default function Settings({ startChat, handleOnlyAudio, onlyAudio }) {\r\n    const videoElement = useRef();\r\n    const audioInputSelect = useRef();\r\n    const audioOutputSelect = useRef();\r\n    const videoSelect = useRef();\r\n    const constraints = useRef();\r\n\r\n    useEffect(() => {\r\n        const selectors = [\r\n            audioInputSelect.current,\r\n            audioOutputSelect.current,\r\n            videoSelect.current,\r\n        ];\r\n        audioOutputSelect.current.disabled = !(\r\n            'sinkId' in HTMLMediaElement.prototype\r\n        );\r\n\r\n        function gotDevices(deviceInfos) {\r\n            const values = selectors.map((select) => select.value);\r\n            selectors.forEach((select) => {\r\n                while (select.firstChild) {\r\n                    select.removeChild(select.firstChild);\r\n                }\r\n            });\r\n\r\n            for (let i = 0; i !== deviceInfos.length; ++i) {\r\n                const deviceInfo = deviceInfos[i];\r\n                const option = document.createElement('option');\r\n                option.value = deviceInfo.deviceId;\r\n                if (deviceInfo.kind === 'audioinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `microphone ${audioInputSelect.current.length + 1}`;\r\n                    audioInputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'audiooutput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `speaker ${audioOutputSelect.current.length + 1}`;\r\n                    audioOutputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'videoinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `camera ${videoSelect.current.length + 1}`;\r\n                    videoSelect.current.appendChild(option);\r\n                } else {\r\n                    console.log(\r\n                        'Some other kind of source/device: ',\r\n                        deviceInfo,\r\n                    );\r\n                }\r\n            }\r\n\r\n            selectors.forEach((select, selectorIndex) => {\r\n                if (\r\n                    Array.prototype.slice\r\n                        .call(select.childNodes)\r\n                        .some((n) => n.value === values[selectorIndex])\r\n                ) {\r\n                    select.value = values[selectorIndex];\r\n                }\r\n            });\r\n        }\r\n\r\n        navigator.mediaDevices\r\n            .enumerateDevices()\r\n            .then(gotDevices)\r\n            .catch(handleError);\r\n\r\n        function changeAudioDestination() {\r\n            const audioDestination = audioOutputSelect.current.value;\r\n            attachSinkId(videoElement.current, audioDestination);\r\n        }\r\n\r\n        function start() {\r\n            const audioSource = audioInputSelect.current.value;\r\n            const videoSource = videoSelect.current.value;\r\n\r\n            constraints.current = {\r\n                audio: {\r\n                    deviceId: audioSource ? { exact: audioSource } : undefined,\r\n                },\r\n                video: onlyAudio\r\n                    ? false\r\n                    : {\r\n                          deviceId: videoSource\r\n                              ? { exact: videoSource }\r\n                              : undefined,\r\n                      },\r\n            };\r\n\r\n            navigator.mediaDevices\r\n                .getUserMedia(constraints.current)\r\n                .then(gotStream)\r\n                .then(gotDevices)\r\n                .catch(handleError);\r\n        }\r\n\r\n        audioInputSelect.current.onchange = start;\r\n        audioOutputSelect.current.onchange = changeAudioDestination;\r\n\r\n        videoSelect.current.onchange = start;\r\n\r\n        start();\r\n\r\n        function handleError(error) {\r\n            handleOnlyAudio();\r\n            console.log(onlyAudio);\r\n            console.log(\r\n                'navigator.MediaDevices.getUserMedia error: ',\r\n                error.message,\r\n                error.name,\r\n            );\r\n        }\r\n    }, [onlyAudio, handleOnlyAudio]);\r\n\r\n    function attachSinkId(element, sinkId) {\r\n        if (typeof element.sinkId !== 'undefined') {\r\n            element\r\n                .setSinkId(sinkId)\r\n                .then(() => {\r\n                    console.log(\r\n                        `Success, audio output device attached: ${sinkId}`,\r\n                    );\r\n                })\r\n                .catch((error) => {\r\n                    let errorMessage = error;\r\n                    if (error.name === 'SecurityError') {\r\n                        errorMessage = `You need to use HTTPS for selecting audio output device: ${error}`;\r\n                    }\r\n                    console.error(errorMessage);\r\n                    // Jump back to first output device in the list as it's the default.\r\n                    audioOutputSelect.current.selectedIndex = 0;\r\n                });\r\n        } else {\r\n            console.warn('Browser does not support output device selection.');\r\n        }\r\n    }\r\n\r\n    function gotStream(stream) {\r\n        videoElement.current.srcObject = stream;\r\n        return navigator.mediaDevices.enumerateDevices();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <section className=\"create-room settings\">\r\n                    <h2>\r\n                        Configure your {onlyAudio ? null : 'camera and '} audio\r\n                        devices\r\n                    </h2>\r\n\r\n                    {onlyAudio && (\r\n                        <h3>\r\n                            You do not have a video camera connected,\r\n                            <br /> you can only communicate by voice\r\n                        </h3>\r\n                    )}\r\n\r\n                    <div className={[onlyAudio ? 'invisible' : null]}>\r\n                        <div className=\"video-content\">\r\n                            <video\r\n                                id=\"video\"\r\n                                poster=\"images/poster.jpg\"\r\n                                autoPlay\r\n                                playsInline\r\n                                ref={videoElement}\r\n                            ></video>\r\n                        </div>\r\n\r\n                        <div className=\"select\">\r\n                            <label htmlFor=\"videoSource\">Video source:</label>\r\n                            <select id=\"videoSource\" ref={videoSelect}></select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioSource\">Audio input:</label>\r\n                        <select\r\n                            id=\"audioSource\"\r\n                            ref={audioInputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioOutput\">Audio output:</label>\r\n                        <select\r\n                            id=\"audioOutput\"\r\n                            ref={audioOutputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"crete-info\">\r\n                        <b>Note:</b> If you hear a reverb sound your microphone\r\n                        is picking up the output of your speakers/headset, lower\r\n                        the volume and/or move the microphone further away from\r\n                        your speakers/headset.\r\n                    </div>\r\n\r\n                    <div className=\"btn-go\">\r\n                        <button onClick={() => startChat(constraints.current)}>\r\n                            Start {onlyAudio ? 'Audio' : 'Video'} Chat\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport ExitButton from '../components/ExitButton';\r\nimport Loader from '../components/Loader';\r\nimport VideoPlayer from '../components/VideoPlayer';\r\nimport Settings from '../components/Settings';\r\n\r\nconst Room = ({ match, history }) => {\r\n    const [constraints, setConstraints] = useState({});\r\n    const [onlyAudio, setOnlyAudio] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [open, setSOpen] = useState(false);\r\n\r\n    const id = match.params.roomID;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    });\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    const startChat = (param) => {\r\n        setConstraints(param);\r\n        setSOpen(true);\r\n    };\r\n\r\n    const handleOnlyAudio = () => {\r\n        setOnlyAudio(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            {!open && (\r\n                <Settings\r\n                    startChat={startChat}\r\n                    handleOnlyAudio={handleOnlyAudio}\r\n                    onlyAudio={onlyAudio}\r\n                />\r\n            )}\r\n\r\n            {open && (\r\n                <VideoPlayer\r\n                    id={id}\r\n                    history={history}\r\n                    constraints={constraints}\r\n                    onlyAudio={onlyAudio}\r\n                />\r\n            )}\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Room;\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CreateRoom from './P2P_VideoAudioChat/CreateRoom';\nimport Room from './P2P_VideoAudioChat/Room';\n\nfunction App() {\n    return (\n        <>\n            <BrowserRouter>\n                <Switch>\n                    <Route path=\"/\" exact component={CreateRoom} />\n                    <Route path=\"/room/:roomID\" component={Room} />\n                </Switch>\n            </BrowserRouter>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}