{"version":3,"sources":["components/Header.js","components/Footer.js","components/QRCodeImage.js","components/Loader.js","p2p_videochat/CreateRoom.js","components/ExitButton.js","components/LinkRoom.js","components/StreamControl.js","p2p_videochat/VideoPlayer.js","p2p_videochat/Settings.js","p2p_videochat/Room.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","src","alt","Footer","href","target","rel","QRCodeImage","url","value","bgColor","fgColor","size","Loader","CreateRoom","history","useState","spinner","setSpinner","browser","navigator","userAgent","toLowerCase","is_IE","test","useEffect","setTimeout","id","uuid","window","location","onClick","push","ExitButton","exitRoom","title","LinkRoom","shareLink","handleShareLink","handleCopyLink","copied","join","type","onChange","document","fullscreenElement","Object","defineProperty","get","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","mozFullScreenEnabled","msFullscreenEnabled","webkitFullscreenEnabled","StreamControl","handleToggleMic","audio","handleToggleCamera","video","handleToggleSound","sound","handleToggleFullScreen","handleShareMonitor","handleToggleMirror","mirror","update","fullScreen","fullMonitor","setFullMonitor","exitFullscreen","documentElement","requestFullscreen","Room","constraints","setAudio","setVideo","setSound","isCopied","setIsCopied","setFullScreen","setMirror","settings","setSettings","setShareLink","setUpdate","userVideo","useRef","partnerVideo","peerRef","socketRef","otherUser","userStream","senders","handleAnswer","message","desc","RTCSessionDescription","sdp","current","setRemoteDescription","catch","e","console","log","handleICECandidateEvent","candidate","payload","emit","handleNewICECandidateMsg","incoming","RTCIceCandidate","addIceCandidate","handleTrackEvent","srcObject","streams","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","ontrack","onnegotiationneeded","createOffer","then","offer","setLocalDescription","caller","localDescription","handleNegotiationNeededEvent","handleRecieveCall","getTracks","forEach","track","addTrack","createAnswer","answer","mediaDevices","getUserMedia","stream","io","connect","on","callUser","poster","autoPlay","muted","ref","getAudioTracks","length","enabled","getVideoTracks","getDisplayMedia","cursor","screenTrack","find","sender","kind","replaceTrack","onended","handleToggleSettings","clipboard","writeText","err","Settings","startChat","videoElement","audioInputSelect","audioOutputSelect","videoSelect","handleError","error","name","gotStream","enumerateDevices","selectors","gotDevices","deviceInfos","values","map","select","firstChild","removeChild","i","deviceInfo","option","createElement","deviceId","text","label","appendChild","selectorIndex","Array","prototype","slice","call","childNodes","some","n","start","audioSource","videoSource","exact","undefined","disabled","HTMLMediaElement","onchange","element","sinkId","audioDestination","setSinkId","errorMessage","selectedIndex","warn","playsInline","htmlFor","match","setConstraints","open","setSOpen","params","roomID","param","VideoPlayer","App","path","component","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"qLAiBeA,EAfA,WACX,OACI,4BAAQC,UAAU,UACd,yBAAKA,UAAU,eACX,4BACI,0BAAMA,UAAU,QACZ,yBAAKC,IAAI,kBAAkBC,IAAI,UAFvC,aCaDC,EAjBA,WACX,OACI,4BAAQH,UAAU,UACd,mFACuD,IACnD,uBACII,KAAK,gDACLC,OAAO,SACPC,IAAI,uBAHR,a,iBCODC,EAXK,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACnB,OACI,kBAAC,IAAD,CACIC,MAAOD,EACPE,QAAS,UACTC,QAAS,UACTC,KAAM,OC2LHC,EAlMA,WACX,OACI,yBAAKb,UAAU,UACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iB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","file":"static/js/main.be913b0f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header-wrap\">\r\n                <h1>\r\n                    <span className=\"logo\">\r\n                        <img src=\"images/logo.svg\" alt=\"Logo\" />\r\n                    </span>\r\n                    VID.OK\r\n                </h1>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>\r\n                © 2020 | VID.OK | Created by Dmitriy Zatulovskiy |{' '}\r\n                <a\r\n                    href=\"https://github.com/GrafSoul/webrtc-video-chat\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                >\r\n                    GitHub\r\n                </a>\r\n            </p>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst QRCodeImage = ({ url }) => {\r\n    return (\r\n        <QRCode\r\n            value={url}\r\n            bgColor={'#1d3850'}\r\n            fgColor={'#bebebe'}\r\n            size={200}\r\n        />\r\n    );\r\n};\r\n\r\nexport default QRCodeImage;\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"socket\">\r\n            <div className=\"gel center-gel\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c1 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c2 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c3 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c4 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c5 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c6 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c7 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c8 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c9 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c10 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c11 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c12 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c13 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c14 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c15 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c16 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c17 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c18 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c19 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c20 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c21 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c22 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c23 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c24 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c25 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c26 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c28 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c29 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c30 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c31 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c32 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c33 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c34 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c35 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c36 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c37 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { v1 as uuid } from 'uuid';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport QRCodeImage from '../components/QRCodeImage';\r\nimport Loader from '../components/Loader';\r\n\r\nconst CreateRoom = ({ history }) => {\r\n    const [spinner, setSpinner] = useState(false);\r\n\r\n    const browser = navigator.userAgent.toLowerCase();\r\n    const is_IE =\r\n        /trident/gi.test(browser) ||\r\n        /msie/gi.test(browser) ||\r\n        /edge/gi.test(browser);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, []);\r\n\r\n    const id = uuid();\r\n    const url = window.location.href + `room/${id}`;\r\n\r\n    const createRoom = () => {\r\n        history.push(`/room/${id}`);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"container\">\r\n                <main>\r\n                    {is_IE ? (\r\n                        <section className=\"create-room\">\r\n                            <div className=\"crete-info\">\r\n                                <h2>\r\n                                    You are using a browser that does not\r\n                                    support the technologies used in this\r\n                                    service\r\n                                </h2>\r\n\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                            </div>\r\n                        </section>\r\n                    ) : (\r\n                        <section className=\"create-room\">\r\n                            <div className=\"crete-info\">\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                                <p>\r\n                                    To create a connection, click on the button\r\n                                    - <strong>\"Create Room\"</strong> and send\r\n                                    the link to the person with whom you want to\r\n                                    communicate.\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"link-url\">\r\n                                <p>{url}</p>\r\n                            </div>\r\n\r\n                            <div className=\"qrcode\">\r\n                                <QRCodeImage url={url} />\r\n                            </div>\r\n\r\n                            <div className=\"btn-go\">\r\n                                <button onClick={() => createRoom()}>\r\n                                    Create Room\r\n                                </button>\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            <Footer />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateRoom;\r\n","import React from 'react';\r\n\r\nconst ExitButton = ({ exitRoom }) => {\r\n    return (\r\n        <div className=\"btn-exit-wrap\">\r\n            <button className=\"btn-exit\" onClick={exitRoom} title=\"Exit\">\r\n                <span className=\"icon icon-exit\"></span>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ExitButton;\r\n","import React from 'react';\r\n\r\nimport QRCodeImage from './QRCodeImage';\r\n\r\nconst LinkRoom = ({\r\n    shareLink,\r\n    handleShareLink,\r\n    handleCopyLink,\r\n    copied,\r\n    url,\r\n}) => {\r\n    return (\r\n        <div className={['link', shareLink ? 'active' : null].join(' ')}>\r\n            <button\r\n                className=\"btn-close\"\r\n                onClick={handleShareLink}\r\n                title=\"Close\"\r\n            >\r\n                <span className=\"icon icon-close\"></span>\r\n            </button>\r\n\r\n            <h2>Contact link</h2>\r\n            <p className=\"link-info\">\r\n                Copy the link and send it to the person you want to meet in a\r\n                video chat\r\n            </p>\r\n            <p className=\"link-url\">\r\n                <input type=\"text\" value={url} onChange={() => {}} />\r\n            </p>\r\n\r\n            <div className=\"link-copy\">\r\n                <button onClick={() => handleCopyLink(url)}>Copy link</button>{' '}\r\n                {copied && <span className=\"copyed\">Copied!</span>}\r\n            </div>\r\n\r\n            <p className=\"link-info\">\r\n                Use as an option. Scan QRCode and send the resulting link to the\r\n                person with who want to start communicating in video chat\r\n            </p>\r\n            <div className=\"link-qrcode\">\r\n                <QRCodeImage url={url} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LinkRoom;\r\n","import React, { useState } from 'react';\r\n\r\nif (!document.fullscreenElement) {\r\n    Object.defineProperty(document, 'fullscreenElement', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenElement ||\r\n                document.msFullscreenElement ||\r\n                document.webkitFullscreenElement\r\n            );\r\n        },\r\n    });\r\n\r\n    Object.defineProperty(document, 'fullscreenEnabled', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenEnabled ||\r\n                document.msFullscreenEnabled ||\r\n                document.webkitFullscreenEnabled\r\n            );\r\n        },\r\n    });\r\n}\r\n\r\nconst StreamControl = ({\r\n    handleShareLink,\r\n    handleToggleMic,\r\n    audio,\r\n    handleToggleCamera,\r\n    video,\r\n    handleToggleSound,\r\n    sound,\r\n    handleToggleFullScreen,\r\n    handleShareMonitor,\r\n    handleToggleMirror,\r\n    mirror,\r\n    update,\r\n    fullScreen,\r\n}) => {\r\n    const [fullMonitor, setFullMonitor] = useState(false);\r\n\r\n    const handleFullscreen = () => {\r\n        if (document.fullscreenElement) {\r\n            document.exitFullscreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n        setFullMonitor(!fullMonitor);\r\n        return false;\r\n    };\r\n\r\n    return (\r\n        <div className=\"stream-control\">\r\n            <div className=\"btn-link\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleShareLink}\r\n                    title=\"Open Link\"\r\n                >\r\n                    <span className=\"icon icon-link\"></span>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"btn-group\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleMic}\r\n                    title=\"Microphone ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-mic',\r\n                            audio ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleCamera}\r\n                    title=\"Camera ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-camera',\r\n                            video ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleSound}\r\n                    title=\"Sound ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-sound',\r\n                            sound ? 'off' : null,\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleMirror}\r\n                    title=\"Mirror\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-mirror',\r\n                            mirror ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleFullScreen}\r\n                    title=\"Fullscreen ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-fullscreen',\r\n                            fullScreen ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={() => handleFullscreen()}\r\n                    title=\"Monitor\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-monitor',\r\n                            fullMonitor ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                {update && (\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleShareMonitor}\r\n                        title=\"Share Content\"\r\n                    >\r\n                        <span className=\"icon icon-share\"></span>\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StreamControl;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport LinkRoom from '../components/LinkRoom';\r\nimport StreamControl from '../components/StreamControl';\r\nimport ExitButton from '../components/ExitButton';\r\nimport Loader from '../components/Loader';\r\n\r\nconst Room = ({ id, history, constraints }) => {\r\n    const [audio, setAudio] = useState(true);\r\n    const [video, setVideo] = useState(true);\r\n    const [sound, setSound] = useState(false);\r\n    const [isCopied, setIsCopied] = useState(false);\r\n    const [fullScreen, setFullScreen] = useState(false);\r\n    const [mirror, setMirror] = useState(false);\r\n    const [settings, setSettings] = useState(false);\r\n    const [shareLink, setShareLink] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [update, setUpdate] = useState(false);\r\n\r\n    const userVideo = useRef();\r\n    const partnerVideo = useRef();\r\n\r\n    const peerRef = useRef();\r\n    const socketRef = useRef();\r\n    const otherUser = useRef();\r\n    const userStream = useRef();\r\n    const senders = useRef([]);\r\n\r\n    useEffect(() => {\r\n        function callUser(userID) {\r\n            peerRef.current = createPeer(userID);\r\n            userStream.current\r\n                .getTracks()\r\n                .forEach((track) =>\r\n                    senders.current.push(\r\n                        peerRef.current.addTrack(track, userStream.current),\r\n                    ),\r\n                );\r\n        }\r\n\r\n        function createPeer(userID) {\r\n            const peer = new RTCPeerConnection({\r\n                iceServers: [\r\n                    {\r\n                        urls: 'stun:stun.stunprotocol.org',\r\n                    },\r\n                    {\r\n                        urls: 'turn:numb.viagenie.ca',\r\n                        credential: 'muazkh',\r\n                        username: 'webrtc@live.com',\r\n                    },\r\n                ],\r\n            });\r\n\r\n            peer.onicecandidate = handleICECandidateEvent;\r\n            peer.ontrack = handleTrackEvent;\r\n            peer.onnegotiationneeded = () =>\r\n                handleNegotiationNeededEvent(userID);\r\n\r\n            return peer;\r\n        }\r\n\r\n        function handleRecieveCall(incoming) {\r\n            peerRef.current = createPeer();\r\n            const desc = new RTCSessionDescription(incoming.sdp);\r\n            peerRef.current\r\n                .setRemoteDescription(desc)\r\n                .then(() => {\r\n                    userStream.current\r\n                        .getTracks()\r\n                        .forEach((track) =>\r\n                            peerRef.current.addTrack(track, userStream.current),\r\n                        );\r\n                })\r\n                .then(() => {\r\n                    return peerRef.current.createAnswer();\r\n                })\r\n                .then((answer) => {\r\n                    return peerRef.current.setLocalDescription(answer);\r\n                })\r\n                .then(() => {\r\n                    const payload = {\r\n                        target: incoming.caller,\r\n                        caller: socketRef.current.id,\r\n                        sdp: peerRef.current.localDescription,\r\n                    };\r\n                    socketRef.current.emit('answer', payload);\r\n                });\r\n        }\r\n\r\n        navigator.mediaDevices.getUserMedia(constraints).then((stream) => {\r\n            userVideo.current.srcObject = stream;\r\n            userStream.current = stream;\r\n\r\n            socketRef.current = io.connect('/');\r\n            socketRef.current.emit('join room', id);\r\n            socketRef.current.on('other user', (userID) => {\r\n                setUpdate(true);\r\n                callUser(userID);\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('user joined', (userID) => {\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('offer', handleRecieveCall);\r\n\r\n            socketRef.current.on('answer', handleAnswer);\r\n\r\n            socketRef.current.on('ice-candidate', handleNewICECandidateMsg);\r\n        });\r\n\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, [id, constraints]);\r\n\r\n    function handleNegotiationNeededEvent(userID) {\r\n        peerRef.current\r\n            .createOffer()\r\n            .then((offer) => {\r\n                return peerRef.current.setLocalDescription(offer);\r\n            })\r\n            .then(() => {\r\n                const payload = {\r\n                    target: userID,\r\n                    caller: socketRef.current.id,\r\n                    sdp: peerRef.current.localDescription,\r\n                };\r\n                socketRef.current.emit('offer', payload);\r\n            })\r\n            .catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleAnswer(message) {\r\n        const desc = new RTCSessionDescription(message.sdp);\r\n        peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleICECandidateEvent(e) {\r\n        if (e.candidate) {\r\n            const payload = {\r\n                target: otherUser.current,\r\n                candidate: e.candidate,\r\n            };\r\n            socketRef.current.emit('ice-candidate', payload);\r\n        }\r\n    }\r\n\r\n    function handleNewICECandidateMsg(incoming) {\r\n        const candidate = new RTCIceCandidate(incoming);\r\n\r\n        peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleTrackEvent(e) {\r\n        partnerVideo.current.srcObject = e.streams[0];\r\n    }\r\n\r\n    function handleShareMonitor() {\r\n        if (senders.current.length === 0) {\r\n            return false;\r\n        } else {\r\n            navigator.mediaDevices\r\n                .getDisplayMedia({ cursor: true })\r\n                .then((stream) => {\r\n                    const screenTrack = stream.getTracks()[0];\r\n                    senders.current\r\n                        .find((sender) => sender.track.kind === 'video')\r\n                        .replaceTrack(screenTrack);\r\n                    screenTrack.onended = function () {\r\n                        senders.current\r\n                            .find((sender) => sender.track.kind === 'video')\r\n                            .replaceTrack(userStream.current.getTracks()[1]);\r\n                    };\r\n                });\r\n        }\r\n    }\r\n\r\n    function handleToggleSettings() {\r\n        setSettings(!settings);\r\n    }\r\n\r\n    function handleToggleSound() {\r\n        setSound(!sound);\r\n    }\r\n\r\n    function handleToggleMic() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getAudioTracks().length > 0\r\n        ) {\r\n            userStream.current.getAudioTracks()[0].enabled = !audio;\r\n            setAudio(!audio);\r\n        }\r\n    }\r\n\r\n    function handleToggleCamera() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getVideoTracks().length > 0\r\n        ) {\r\n            userStream.current.getVideoTracks()[0].enabled = !video;\r\n            setVideo(!video);\r\n        }\r\n    }\r\n\r\n    function handleToggleFullScreen() {\r\n        setFullScreen(!fullScreen);\r\n    }\r\n\r\n    function handleToggleMirror() {\r\n        setMirror(!mirror);\r\n    }\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setIsCopied(true);\r\n                setTimeout(() => setIsCopied(false), 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n\r\n        setTimeout(() => {\r\n            handleShareLink();\r\n        }, 1800);\r\n    }\r\n\r\n    function handleShareLink() {\r\n        setShareLink(!shareLink);\r\n    }\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            <div className=\"video\">\r\n                <video\r\n                    id=\"partner\"\r\n                    poster=\"images/poster.jpg\"\r\n                    autoPlay\r\n                    muted={sound}\r\n                    ref={partnerVideo}\r\n                    className={[\r\n                        mirror ? 'mirror' : null,\r\n                        fullScreen ? 'active' : null,\r\n                    ].join(' ')}\r\n                ></video>\r\n                <div className=\"user-video\">\r\n                    <video\r\n                        autoPlay\r\n                        muted\r\n                        ref={userVideo}\r\n                        poster=\"images/poster.jpg\"\r\n                    ></video>\r\n                </div>\r\n            </div>\r\n\r\n            <StreamControl\r\n                handleShareLink={handleShareLink}\r\n                handleToggleMic={handleToggleMic}\r\n                audio={audio}\r\n                handleToggleCamera={handleToggleCamera}\r\n                video={video}\r\n                handleToggleSound={handleToggleSound}\r\n                sound={sound}\r\n                handleToggleFullScreen={handleToggleFullScreen}\r\n                handleShareMonitor={handleShareMonitor}\r\n                handleToggleSettings={handleToggleSettings}\r\n                handleToggleMirror={handleToggleMirror}\r\n                otherUser={otherUser.current}\r\n                update={update}\r\n                mirror={mirror}\r\n                fullScreen={fullScreen}\r\n            />\r\n\r\n            <LinkRoom\r\n                shareLink={shareLink}\r\n                handleShareLink={handleShareLink}\r\n                handleCopyLink={handleCopyLink}\r\n                copied={isCopied}\r\n                url={window.location.href}\r\n            />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useRef, useEffect } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nexport default function Settings({ startChat }) {\r\n    const videoElement = useRef();\r\n    const audioInputSelect = useRef();\r\n    const audioOutputSelect = useRef();\r\n    const videoSelect = useRef();\r\n    const constraints = useRef();\r\n\r\n    useEffect(() => {\r\n        const selectors = [\r\n            audioInputSelect.current,\r\n            audioOutputSelect.current,\r\n            videoSelect.current,\r\n        ];\r\n        audioOutputSelect.current.disabled = !(\r\n            'sinkId' in HTMLMediaElement.prototype\r\n        );\r\n\r\n        function gotDevices(deviceInfos) {\r\n            const values = selectors.map((select) => select.value);\r\n            selectors.forEach((select) => {\r\n                while (select.firstChild) {\r\n                    select.removeChild(select.firstChild);\r\n                }\r\n            });\r\n\r\n            for (let i = 0; i !== deviceInfos.length; ++i) {\r\n                const deviceInfo = deviceInfos[i];\r\n                const option = document.createElement('option');\r\n                option.value = deviceInfo.deviceId;\r\n                if (deviceInfo.kind === 'audioinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `microphone ${audioInputSelect.current.length + 1}`;\r\n                    audioInputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'audiooutput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `speaker ${audioOutputSelect.current.length + 1}`;\r\n                    audioOutputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'videoinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `camera ${videoSelect.current.length + 1}`;\r\n                    videoSelect.current.appendChild(option);\r\n                } else {\r\n                    console.log(\r\n                        'Some other kind of source/device: ',\r\n                        deviceInfo,\r\n                    );\r\n                }\r\n            }\r\n\r\n            selectors.forEach((select, selectorIndex) => {\r\n                if (\r\n                    Array.prototype.slice\r\n                        .call(select.childNodes)\r\n                        .some((n) => n.value === values[selectorIndex])\r\n                ) {\r\n                    select.value = values[selectorIndex];\r\n                }\r\n            });\r\n        }\r\n\r\n        navigator.mediaDevices\r\n            .enumerateDevices()\r\n            .then(gotDevices)\r\n            .catch(handleError);\r\n\r\n        function changeAudioDestination() {\r\n            const audioDestination = audioOutputSelect.current.value;\r\n            attachSinkId(videoElement.current, audioDestination);\r\n        }\r\n\r\n        function start() {\r\n            const audioSource = audioInputSelect.current.value;\r\n            const videoSource = videoSelect.current.value;\r\n            constraints.current = {\r\n                audio: {\r\n                    deviceId: audioSource ? { exact: audioSource } : undefined,\r\n                },\r\n                video: {\r\n                    deviceId: videoSource ? { exact: videoSource } : undefined,\r\n                },\r\n            };\r\n\r\n            navigator.mediaDevices\r\n                .getUserMedia(constraints.current)\r\n                .then(gotStream)\r\n                .then(gotDevices)\r\n                .catch(handleError);\r\n        }\r\n\r\n        audioInputSelect.current.onchange = start;\r\n        audioOutputSelect.current.onchange = changeAudioDestination;\r\n\r\n        videoSelect.current.onchange = start;\r\n\r\n        start();\r\n    }, []);\r\n\r\n    function handleError(error) {\r\n        console.log(\r\n            'navigator.MediaDevices.getUserMedia error: ',\r\n            error.message,\r\n            error.name,\r\n        );\r\n    }\r\n\r\n    function attachSinkId(element, sinkId) {\r\n        if (typeof element.sinkId !== 'undefined') {\r\n            element\r\n                .setSinkId(sinkId)\r\n                .then(() => {\r\n                    console.log(\r\n                        `Success, audio output device attached: ${sinkId}`,\r\n                    );\r\n                })\r\n                .catch((error) => {\r\n                    let errorMessage = error;\r\n                    if (error.name === 'SecurityError') {\r\n                        errorMessage = `You need to use HTTPS for selecting audio output device: ${error}`;\r\n                    }\r\n                    console.error(errorMessage);\r\n                    // Jump back to first output device in the list as it's the default.\r\n                    audioOutputSelect.current.selectedIndex = 0;\r\n                });\r\n        } else {\r\n            console.warn('Browser does not support output device selection.');\r\n        }\r\n    }\r\n\r\n    function gotStream(stream) {\r\n        videoElement.current.srcObject = stream;\r\n        return navigator.mediaDevices.enumerateDevices();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <section className=\"create-room settings\">\r\n                    <h2>Configure your camera and audio devices</h2>\r\n\r\n                    <div className=\"video-content\">\r\n                        <video\r\n                            id=\"video\"\r\n                            poster=\"images/poster.jpg\"\r\n                            autoPlay\r\n                            playsInline\r\n                            ref={videoElement}\r\n                        ></video>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"videoSource\">Video source:</label>\r\n                        <select id=\"videoSource\" ref={videoSelect}></select>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioSource\">Audio input:</label>\r\n                        <select\r\n                            id=\"audioSource\"\r\n                            ref={audioInputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioOutput\">Audio output:</label>\r\n                        <select\r\n                            id=\"audioOutput\"\r\n                            ref={audioOutputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"crete-info\">\r\n                        <b>Note:</b> If you hear a reverb sound your microphone\r\n                        is picking up the output of your speakers/headset, lower\r\n                        the volume and/or move the microphone further away from\r\n                        your speakers/headset.\r\n                    </div>\r\n\r\n                    <div className=\"btn-go\">\r\n                        <button onClick={() => startChat(constraints.current)}>\r\n                            Start Chat\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport ExitButton from '../components/ExitButton';\r\nimport Loader from '../components/Loader';\r\nimport VideoPlayer from './VideoPlayer';\r\nimport Settings from './Settings';\r\n\r\nconst Room = ({ match, history }) => {\r\n    const [constraints, setConstraints] = useState({});\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [open, setSOpen] = useState(false);\r\n\r\n    const id = match.params.roomID;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    });\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    const startChat = (param) => {\r\n        setConstraints(param);\r\n        setSOpen(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            {!open && <Settings startChat={startChat} />}\r\n\r\n            {open && (\r\n                <VideoPlayer\r\n                    id={id}\r\n                    history={history}\r\n                    constraints={constraints}\r\n                />\r\n            )}\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Room;\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CreateRoom from './p2p_videochat/CreateRoom';\nimport Room from './p2p_videochat/Room';\n\nfunction App() {\n    return (\n        <>\n            <BrowserRouter>\n                <Switch>\n                    <Route path=\"/\" exact component={CreateRoom} />\n                    <Route path=\"/room/:roomID\" component={Room} />\n                </Switch>\n            </BrowserRouter>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}