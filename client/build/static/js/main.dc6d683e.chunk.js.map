{"version":3,"sources":["components/Header.js","components/Footer.js","components/CopyLink.js","components/QRCodeImage.js","components/Loader.js","P2P_VideoAudioChat/CreateChat.js","components/ExitButton.js","components/LinkRoom.js","components/ChatRoom.js","components/StreamControl.js","components/AudioMeter.js","components/VideoPlayer.js","components/AudioInputMeter.js","components/Settings.js","P2P_VideoAudioChat/Chat.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","src","alt","Footer","href","target","rel","CopyLink","url","useState","copied","setCopied","onClick","navigator","clipboard","writeText","then","setTimeout","catch","err","console","log","handleCopyLink","QRCodeImage","value","bgColor","fgColor","size","Loader","CreateChat","history","spinner","setSpinner","browser","userAgent","toLowerCase","is_IE","test","useEffect","id","uuid","window","location","push","ExitButton","exitRoom","title","LinkRoom","shareLink","handleShareLink","join","type","onChange","ChatRoom","shareChat","handleShareChat","sendMessage","handleChange","message","yourID","messages","map","index","key","ReactEmoji","emojify","body","onSubmit","placeholder","onKeyPress","e","document","fullscreenElement","Object","defineProperty","get","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","mozFullScreenEnabled","msFullscreenEnabled","webkitFullscreenEnabled","StreamControl","handleToggleMic","audio","handleToggleCamera","video","handleToggleSound","sound","handleToggleFullScreen","handleShareMonitor","handleToggleMirror","mirror","update","fullScreen","onlyAudio","style","display","AudioMeter","userStream","number","widthLine","lineClass","meterClass","heightLine","model","smallMeter","useRef","meterItem","myElements","num","width","heightLineBox","modelMeter","line","array","context","analyser","current","Uint8Array","i","createElement","background","minWidth","appendChild","AudioContext","createAnalyser","createMediaStreamSource","connect","loop","getElementsByClassName","length","requestAnimationFrame","getByteFrequencyData","height","minHeight","opacity","getBoundingClientRect","backgroundColor","error","alert","ref","VideoPlayer","constraints","setAudio","setVideo","setSound","isCopied","setIsCopied","setFullScreen","setMirror","settings","setSettings","setShareLink","setShareChat","setUpdate","fullMonitor","setFullMonitor","setYourID","setMessages","setMessage","userVideo","partnerVideo","peerRef","socketRef","otherUser","senders","handleAnswer","desc","RTCSessionDescription","sdp","setRemoteDescription","handleICECandidateEvent","candidate","payload","emit","handleNewICECandidateMsg","incoming","RTCIceCandidate","addIceCandidate","handleTrackEvent","srcObject","streams","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","ontrack","onnegotiationneeded","createOffer","offer","setLocalDescription","caller","localDescription","handleNegotiationNeededEvent","handleRecieveCall","getTracks","forEach","track","addTrack","createAnswer","answer","getUserMedia","webkitGetUserMedia","mozGetUserMedia","mediaDevices","stream","io","on","callUser","oldMsgs","receivedMessage","handleFullscreen","exitFullscreen","documentElement","requestFullscreen","visibility","poster","autoPlay","muted","getAudioTracks","enabled","getVideoTracks","getDisplayMedia","cursor","screenTrack","find","sender","kind","replaceTrack","onended","handleToggleSettings","preventDefault","messageObject","AudioInputMeter","audioContext","canvasContext","canvasMeter","mediaStreamSource","meter","rafID","gotStream","clipLevel","averaging","clipLag","processor","createScriptProcessor","onaudioprocess","volumeAudioProcess","clipping","lastClip","volume","destination","checkClipping","this","performance","now","shutdown","disconnect","createAudioMeter","drawLoop","clearRect","fillStyle","fillRect","event","x","buf","inputBuffer","getChannelData","bufLength","sum","Math","abs","rms","sqrt","max","getContext","webkitAudioContext","mandatory","googEchoCancellation","googAutoGainControl","googNoiseSuppression","googHighpassFilter","optional","Settings","startChat","handleOnlyAudio","videoElement","audioInputSelect","audioOutputSelect","videoSelect","enumerateDevices","selectors","gotDevices","deviceInfos","values","select","firstChild","removeChild","deviceInfo","option","deviceId","text","label","selectorIndex","Array","prototype","slice","call","childNodes","some","n","start","audioSource","videoSource","exact","undefined","handleError","name","disabled","HTMLMediaElement","onchange","element","sinkId","audioDestination","setSinkId","errorMessage","selectedIndex","warn","playsInline","htmlFor","Chat","match","setConstraints","setOnlyAudio","open","setSOpen","params","param","App","path","component","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"yMAiBeA,EAfA,WACX,OACI,4BAAQC,UAAU,UACd,yBAAKA,UAAU,eACX,4BACI,0BAAMA,UAAU,QACZ,yBAAKC,IAAI,mBAAmBC,IAAI,UAFxC,aCaDC,EAjBA,WACX,OACI,4BAAQH,UAAU,UACd,mFACuD,IACnD,uBACII,KAAK,gDACLC,OAAO,SACPC,IAAI,uBAHR,aCoBDC,EAzBE,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAAU,EACEC,oBAAS,GADX,mBACnBC,EADmB,KACXC,EADW,KAiB1B,OACI,yBAAKX,UAAU,OAAOY,QAAS,kBAfnC,SAAwBJ,GACpBK,UAAUC,UACLC,UAAUP,GACVQ,MAAK,WACFL,GAAU,GACVM,YAAW,WACPN,GAAU,KACX,QAENO,OAAM,SAACC,GACJC,QAAQC,IAAI,uBAAwBF,MAKPG,CAAed,KAC/CE,GAAU,0BAAMV,UAAU,UAAhB,WACX,yBAAKC,IAAI,uBAAuBC,IAAI,O,iBCRjCqB,EAXK,SAAC,GAAa,IAAXf,EAAU,EAAVA,IACnB,OACI,kBAAC,IAAD,CACIgB,MAAOhB,EACPiB,QAAS,UACTC,QAAS,UACTC,KAAM,OC2LHC,EAlMA,WACX,OACI,yBAAK5B,UAAU,UACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAGnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,kBAEnB,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,iBACf,yBAAKA,U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","file":"static/js/main.dc6d683e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header-wrap\">\r\n                <h1>\r\n                    <span className=\"logo\">\r\n                        <img src=\"/images/logo.svg\" alt=\"Logo\" />\r\n                    </span>\r\n                    VID.OK\r\n                </h1>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>\r\n                © 2020 | VID.OK | Created by Dmitriy Zatulovskiy |{' '}\r\n                <a\r\n                    href=\"https://github.com/GrafSoul/webrtc-video-chat\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                >\r\n                    GitHub\r\n                </a>\r\n            </p>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\n\r\nconst CopyLink = ({ url }) => {\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setCopied(true);\r\n                setTimeout(() => {\r\n                    setCopied(false);\r\n                }, 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"copy\" onClick={() => handleCopyLink(url)}>\r\n            {copied && <span className=\"copied\">Copied!</span>}\r\n            <img src=\"images/icon_copy.svg\" alt=\"\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CopyLink;\r\n","import React from 'react';\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst QRCodeImage = ({ url }) => {\r\n    return (\r\n        <QRCode\r\n            value={url}\r\n            bgColor={'#1d3850'}\r\n            fgColor={'#bebebe'}\r\n            size={200}\r\n        />\r\n    );\r\n};\r\n\r\nexport default QRCodeImage;\r\n","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"socket\">\r\n            <div className=\"gel center-gel\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c1 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c2 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c3 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c4 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c5 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c6 r1\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c7 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n\r\n            <div className=\"gel c8 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c9 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c10 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c11 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c12 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c13 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c14 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c15 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c16 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c17 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c18 r2\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c19 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c20 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c21 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c22 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c23 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c24 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c25 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c26 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c28 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c29 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c30 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c31 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c32 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c33 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c34 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c35 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c36 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n            <div className=\"gel c37 r3\">\r\n                <div className=\"hex-brick h1\"></div>\r\n                <div className=\"hex-brick h2\"></div>\r\n                <div className=\"hex-brick h3\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { v1 as uuid } from 'uuid';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport CopyLink from '../components/CopyLink';\r\nimport QRCodeImage from '../components/QRCodeImage';\r\nimport Loader from '../components/Loader';\r\n\r\nconst CreateChat = ({ history }) => {\r\n    const [spinner, setSpinner] = useState(false);\r\n\r\n    const browser = navigator.userAgent.toLowerCase();\r\n    const is_IE =\r\n        /trident/gi.test(browser) ||\r\n        /msie/gi.test(browser) ||\r\n        /edge/gi.test(browser);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, []);\r\n\r\n    const id = uuid();\r\n    const url = window.location.href + `chat/${id}`;\r\n\r\n    const createRoom = () => {\r\n        history.push(`/chat/${id}`);\r\n        return false;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"container\">\r\n                <main>\r\n                    {is_IE ? (\r\n                        <section className=\"create-chat\">\r\n                            <div className=\"crete-info\">\r\n                                <h2>\r\n                                    You are using a browser that does not\r\n                                    support the technologies used in this\r\n                                    service\r\n                                </h2>\r\n\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                            </div>\r\n                        </section>\r\n                    ) : (\r\n                        <section className=\"create-chat\">\r\n                            <div className=\"crete-info\">\r\n                                <p>\r\n                                    <strong>VID.OK</strong> - Secure Video Chat.\r\n                                    Video transfer and audio stream between\r\n                                    browsers interlocutors not giving access to\r\n                                    third parties.\r\n                                </p>\r\n                                <p>\r\n                                    To create a connection, click on the button\r\n                                    - <strong>\"Create a New Connection\"</strong>{' '}\r\n                                    and send the link to the person with whom\r\n                                    you want to communicate.\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"link-url\">\r\n                                <CopyLink url={url} />\r\n                                <p>{url}</p>\r\n                            </div>\r\n\r\n                            <div className=\"qrcode\">\r\n                                <QRCodeImage url={url} />\r\n                            </div>\r\n\r\n                            <div className=\"btn-go\">\r\n                                <button onClick={() => createRoom()}>\r\n                                    Create a New Connection\r\n                                </button>\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            <Footer />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateChat;\r\n","import React from 'react';\r\n\r\nconst ExitButton = ({ exitRoom }) => {\r\n    return (\r\n        <div className=\"btn-exit-wrap\">\r\n            <button className=\"btn-exit\" onClick={exitRoom} title=\"Exit\">\r\n                <span className=\"icon icon-exit\"></span>\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ExitButton;\r\n","import React from 'react';\r\n\r\nimport QRCodeImage from './QRCodeImage';\r\n\r\nconst LinkRoom = ({\r\n    shareLink,\r\n    handleShareLink,\r\n    handleCopyLink,\r\n    copied,\r\n    url,\r\n}) => {\r\n    return (\r\n        <div className={['link', shareLink ? 'active' : null].join(' ')}>\r\n            <button\r\n                className=\"btn-close\"\r\n                onClick={handleShareLink}\r\n                title=\"Close\"\r\n            >\r\n                <span className=\"icon icon-close\"></span>\r\n            </button>\r\n\r\n            <h2>Contact link</h2>\r\n            <p className=\"link-info\">\r\n                Copy the link and send it to the person you want to meet in a\r\n                video chat\r\n            </p>\r\n            <p className=\"link-url\">\r\n                <input type=\"text\" value={url} onChange={() => {}} />\r\n            </p>\r\n\r\n            <div className=\"link-copy\">\r\n                <button onClick={() => handleCopyLink(url)}>Copy link</button>{' '}\r\n                {copied && <span className=\"copyed\">Copied!</span>}\r\n            </div>\r\n\r\n            <p className=\"link-info\">\r\n                Use as an option. Scan QRCode and send the resulting link to the\r\n                person with who want to start communicating in video chat\r\n            </p>\r\n            <div className=\"link-qrcode\">\r\n                <QRCodeImage url={url} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LinkRoom;\r\n","import React from 'react';\r\nimport ReactEmoji from 'react-emoji';\r\nimport Scrollbar from 'react-scrollbars-custom';\r\n\r\nconst ChatRoom = ({\r\n    shareChat,\r\n    handleShareChat,\r\n    sendMessage,\r\n    handleChange,\r\n    message,\r\n    yourID,\r\n    messages,\r\n}) => {\r\n    return (\r\n        <div className={['chat', shareChat ? 'active' : null].join(' ')}>\r\n            <button\r\n                className=\"btn-close\"\r\n                onClick={handleShareChat}\r\n                title=\"Close\"\r\n            >\r\n                <span className=\"icon icon-close\"></span>\r\n            </button>\r\n\r\n            <h2>Chat</h2>\r\n\r\n            <div className=\"chat-wrap\">\r\n                {/* <div className=\"chat-container\"> */}\r\n                <Scrollbar className=\"chat-container\">\r\n                    {messages.map((message, index) => {\r\n                        if (message.id === yourID) {\r\n                            return (\r\n                                <div key={index} className=\"in-row\">\r\n                                    <div className=\"in-message\">\r\n                                        {ReactEmoji.emojify(message.body)}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        return (\r\n                            <div key={index} className=\"out-row\">\r\n                                <div className=\"out-message\">\r\n                                    {ReactEmoji.emojify(message.body)}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </Scrollbar>\r\n                {/* </div> */}\r\n\r\n                <form className=\"chat-form\" onSubmit={sendMessage}>\r\n                    <textarea\r\n                        value={message}\r\n                        className=\"chat-write\"\r\n                        placeholder=\"Write text here...\"\r\n                        onChange={handleChange}\r\n                        onKeyPress={(e) =>\r\n                            e.key === 'Enter' ? sendMessage(e) : null\r\n                        }\r\n                    ></textarea>\r\n                    <button className=\"chat-btn\">Send</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatRoom;\r\n","import React from 'react';\r\n\r\nif (!document.fullscreenElement) {\r\n    Object.defineProperty(document, 'fullscreenElement', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenElement ||\r\n                document.msFullscreenElement ||\r\n                document.webkitFullscreenElement\r\n            );\r\n        },\r\n    });\r\n\r\n    Object.defineProperty(document, 'fullscreenEnabled', {\r\n        get: function () {\r\n            return (\r\n                document.mozFullScreenEnabled ||\r\n                document.msFullscreenEnabled ||\r\n                document.webkitFullscreenEnabled\r\n            );\r\n        },\r\n    });\r\n}\r\n\r\nconst StreamControl = ({\r\n    handleShareLink,\r\n    handleShareChat,\r\n    handleToggleMic,\r\n    audio,\r\n    handleToggleCamera,\r\n    video,\r\n    handleToggleSound,\r\n    sound,\r\n    handleToggleFullScreen,\r\n    handleShareMonitor,\r\n    handleToggleMirror,\r\n    mirror,\r\n    update,\r\n    fullScreen,\r\n    onlyAudio,\r\n}) => {\r\n    return (\r\n        <div className=\"stream-control\">\r\n            <div className=\"btn-link\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleShareLink}\r\n                    title=\"Open Link\"\r\n                >\r\n                    <span className=\"icon icon-link\"></span>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"btn-group\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleMic}\r\n                    title=\"Microphone ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-mic',\r\n                            audio ? null : 'off',\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleToggleSound}\r\n                    title=\"Sound ON/OFF\"\r\n                >\r\n                    <span\r\n                        className={[\r\n                            'icon',\r\n                            'icon-sound',\r\n                            sound ? 'off' : null,\r\n                        ].join(' ')}\r\n                    ></span>\r\n                </button>\r\n\r\n                <span style={onlyAudio ? { display: 'none' } : null}>\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleCamera}\r\n                        title=\"Camera ON/OFF\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-camera',\r\n                                video ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleMirror}\r\n                        title=\"Mirror\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-mirror',\r\n                                mirror ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleToggleFullScreen}\r\n                        title=\"Fullscreen ON/OFF\"\r\n                    >\r\n                        <span\r\n                            className={[\r\n                                'icon',\r\n                                'icon-fullscreen',\r\n                                fullScreen ? null : 'off',\r\n                            ].join(' ')}\r\n                        ></span>\r\n                    </button>\r\n                </span>\r\n\r\n                {update && !onlyAudio && (\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={handleShareMonitor}\r\n                        title=\"Share Content\"\r\n                    >\r\n                        <span className=\"icon icon-share\"></span>\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"btn-chat\">\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleShareChat}\r\n                    title=\"Open Link\"\r\n                >\r\n                    <span className=\"icon icon-chat\"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StreamControl;\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nconst AudioMeter = ({\r\n    userStream,\r\n    number,\r\n    widthLine,\r\n    lineClass,\r\n    meterClass,\r\n    heightLine,\r\n    model,\r\n}) => {\r\n    const smallMeter = useRef();\r\n    const meterItem = useRef(null);\r\n    const myElements = useRef(null);\r\n    const num = useRef(number);\r\n    const width = useRef(widthLine);\r\n    const heightLineBox = useRef(heightLine);\r\n    const modelMeter = useRef(model);\r\n    const line = useRef(lineClass);\r\n    const array = useRef([]);\r\n\r\n    useEffect(() => {\r\n        let context, analyser;\r\n        array.current = new Uint8Array(num.current * 2);\r\n\r\n        if (context) return;\r\n\r\n        for (let i = 0; i < num.current; i++) {\r\n            meterItem.current = document.createElement('div');\r\n            meterItem.current.className = line.current;\r\n            meterItem.current.style.background = '#426e92';\r\n            meterItem.current.style.minWidth = width.current + 'px';\r\n            meterItem.current.style.display = 'none';\r\n            smallMeter.current.appendChild(meterItem.current);\r\n        }\r\n\r\n        context = new AudioContext();\r\n        analyser = context.createAnalyser();\r\n\r\n        try {\r\n            if (userStream) {\r\n                let src = context.createMediaStreamSource(userStream);\r\n                src.connect(analyser);\r\n            }\r\n            loop();\r\n        } catch (error) {\r\n            alert(error + '\\r\\nRejected. The page will be updated!');\r\n        }\r\n\r\n        function loop() {\r\n            myElements.current = document.getElementsByClassName(line.current);\r\n            if (myElements.current.length > 0) {\r\n                window.requestAnimationFrame(loop);\r\n                analyser.getByteFrequencyData(array.current);\r\n                for (var i = 0; i < num.current; i++) {\r\n                    let height = array.current[i + num.current];\r\n                    myElements.current[i].style.minHeight =\r\n                        (modelMeter.current === 'small' ? height / 3 : height) +\r\n                        'px';\r\n                    myElements.current[i].style.opacity = 0.008 * height;\r\n                    myElements.current[i].style.display = 'block';\r\n                    if (\r\n                        myElements.current[i].getBoundingClientRect().height >\r\n                        heightLineBox.current\r\n                    ) {\r\n                        myElements.current[i].style.backgroundColor = '#a1c7e6';\r\n                    } else {\r\n                        myElements.current[i].style.backgroundColor = '#426e92';\r\n                    }\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }, [userStream]);\r\n\r\n    return <div className={meterClass} ref={smallMeter}></div>;\r\n};\r\n\r\nexport default AudioMeter;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport LinkRoom from './LinkRoom';\r\nimport ChatRoom from './ChatRoom';\r\nimport StreamControl from './StreamControl';\r\nimport ExitButton from './ExitButton';\r\nimport Loader from './Loader';\r\nimport AudioMeter from './AudioMeter';\r\n\r\nconst VideoPlayer = ({ id, history, constraints, onlyAudio }) => {\r\n    const [audio, setAudio] = useState(true);\r\n    const [video, setVideo] = useState(true);\r\n    const [sound, setSound] = useState(false);\r\n    const [isCopied, setIsCopied] = useState(false);\r\n    const [fullScreen, setFullScreen] = useState(false);\r\n    const [mirror, setMirror] = useState(false);\r\n    const [settings, setSettings] = useState(false);\r\n    const [shareLink, setShareLink] = useState(false);\r\n    const [shareChat, setShareChat] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [update, setUpdate] = useState(false);\r\n    const [fullMonitor, setFullMonitor] = useState(false);\r\n\r\n    const [yourID, setYourID] = useState();\r\n    const [messages, setMessages] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n\r\n    const userVideo = useRef();\r\n    const partnerVideo = useRef();\r\n\r\n    const peerRef = useRef();\r\n    const socketRef = useRef();\r\n    const otherUser = useRef();\r\n    const userStream = useRef();\r\n    const senders = useRef([]);\r\n\r\n    useEffect(() => {\r\n        navigator.getUserMedia =\r\n            navigator.getUserMedia ||\r\n            navigator.webkitGetUserMedia ||\r\n            navigator.mozGetUserMedia;\r\n\r\n        function callUser(userID) {\r\n            peerRef.current = createPeer(userID);\r\n            userStream.current\r\n                .getTracks()\r\n                .forEach((track) =>\r\n                    senders.current.push(\r\n                        peerRef.current.addTrack(track, userStream.current),\r\n                    ),\r\n                );\r\n        }\r\n\r\n        function createPeer(userID) {\r\n            const peer = new RTCPeerConnection({\r\n                iceServers: [\r\n                    {\r\n                        urls: 'stun:stun.stunprotocol.org',\r\n                    },\r\n                    {\r\n                        urls: 'turn:numb.viagenie.ca',\r\n                        credential: 'vidokchat',\r\n                        username: 'networkroom@live.com',\r\n                    },\r\n                ],\r\n            });\r\n\r\n            peer.onicecandidate = handleICECandidateEvent;\r\n            peer.ontrack = handleTrackEvent;\r\n            peer.onnegotiationneeded = () =>\r\n                handleNegotiationNeededEvent(userID);\r\n\r\n            return peer;\r\n        }\r\n\r\n        function handleRecieveCall(incoming) {\r\n            peerRef.current = createPeer();\r\n            const desc = new RTCSessionDescription(incoming.sdp);\r\n            peerRef.current\r\n                .setRemoteDescription(desc)\r\n                .then(() => {\r\n                    userStream.current\r\n                        .getTracks()\r\n                        .forEach((track) =>\r\n                            peerRef.current.addTrack(track, userStream.current),\r\n                        );\r\n                })\r\n                .then(() => {\r\n                    return peerRef.current.createAnswer();\r\n                })\r\n                .then((answer) => {\r\n                    return peerRef.current.setLocalDescription(answer);\r\n                })\r\n                .then(() => {\r\n                    const payload = {\r\n                        target: incoming.caller,\r\n                        caller: socketRef.current.id,\r\n                        sdp: peerRef.current.localDescription,\r\n                    };\r\n                    socketRef.current.emit('answer', payload);\r\n                });\r\n        }\r\n\r\n        navigator.mediaDevices.getUserMedia(constraints).then((stream) => {\r\n            userVideo.current.srcObject = stream;\r\n            userStream.current = stream;\r\n\r\n            socketRef.current = io.connect('/');\r\n            socketRef.current.emit('join room', id);\r\n            socketRef.current.on('other user', (userID) => {\r\n                setUpdate(true);\r\n                callUser(userID);\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('user joined', (userID) => {\r\n                otherUser.current = userID;\r\n            });\r\n\r\n            socketRef.current.on('offer', handleRecieveCall);\r\n\r\n            socketRef.current.on('answer', handleAnswer);\r\n\r\n            socketRef.current.on('ice-candidate', handleNewICECandidateMsg);\r\n        });\r\n\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    }, [id, constraints]);\r\n\r\n    useEffect(() => {\r\n        socketRef.current = io.connect('/');\r\n        socketRef.current.on('your id', (id) => {\r\n            setYourID(id);\r\n        });\r\n\r\n        socketRef.current.on('message', (message) => {\r\n            console.log('here');\r\n            receivedMessage(message);\r\n            if (message !== '') setShareChat(true);\r\n        });\r\n    }, []);\r\n\r\n    function receivedMessage(message) {\r\n        setMessages((oldMsgs) => [...oldMsgs, message]);\r\n    }\r\n\r\n    function sendMessage(e) {\r\n        e.preventDefault();\r\n        const messageObject = {\r\n            body: message,\r\n            id: yourID,\r\n        };\r\n        setMessage('');\r\n        socketRef.current.emit('send message', messageObject);\r\n    }\r\n\r\n    function handleChange(e) {\r\n        setMessage(e.target.value);\r\n    }\r\n\r\n    function handleNegotiationNeededEvent(userID) {\r\n        peerRef.current\r\n            .createOffer()\r\n            .then((offer) => {\r\n                return peerRef.current.setLocalDescription(offer);\r\n            })\r\n            .then(() => {\r\n                const payload = {\r\n                    target: userID,\r\n                    caller: socketRef.current.id,\r\n                    sdp: peerRef.current.localDescription,\r\n                };\r\n                socketRef.current.emit('offer', payload);\r\n            })\r\n            .catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleAnswer(message) {\r\n        const desc = new RTCSessionDescription(message.sdp);\r\n        peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleICECandidateEvent(e) {\r\n        if (e.candidate) {\r\n            const payload = {\r\n                target: otherUser.current,\r\n                candidate: e.candidate,\r\n            };\r\n            socketRef.current.emit('ice-candidate', payload);\r\n        }\r\n    }\r\n\r\n    function handleNewICECandidateMsg(incoming) {\r\n        const candidate = new RTCIceCandidate(incoming);\r\n\r\n        peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\r\n    }\r\n\r\n    function handleTrackEvent(e) {\r\n        partnerVideo.current.srcObject = e.streams[0];\r\n    }\r\n\r\n    function handleShareMonitor() {\r\n        if (senders.current.length === 0) {\r\n            return false;\r\n        } else {\r\n            navigator.mediaDevices\r\n                .getDisplayMedia({ cursor: true })\r\n                .then((stream) => {\r\n                    const screenTrack = stream.getTracks()[0];\r\n                    senders.current\r\n                        .find((sender) => sender.track.kind === 'video')\r\n                        .replaceTrack(screenTrack);\r\n                    screenTrack.onended = function () {\r\n                        senders.current\r\n                            .find((sender) => sender.track.kind === 'video')\r\n                            .replaceTrack(userStream.current.getTracks()[1]);\r\n                    };\r\n                });\r\n        }\r\n    }\r\n\r\n    function handleToggleSettings() {\r\n        setSettings(!settings);\r\n    }\r\n\r\n    function handleToggleSound() {\r\n        setSound(!sound);\r\n    }\r\n\r\n    function handleToggleMic() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getAudioTracks().length > 0\r\n        ) {\r\n            userStream.current.getAudioTracks()[0].enabled = !audio;\r\n            setAudio(!audio);\r\n        }\r\n    }\r\n\r\n    function handleToggleCamera() {\r\n        if (\r\n            userStream.current != null &&\r\n            userStream.current.getVideoTracks().length > 0\r\n        ) {\r\n            userStream.current.getVideoTracks()[0].enabled = !video;\r\n            setVideo(!video);\r\n        }\r\n    }\r\n\r\n    function handleToggleFullScreen() {\r\n        setFullScreen(!fullScreen);\r\n    }\r\n\r\n    const handleFullscreen = () => {\r\n        if (document.fullscreenElement) {\r\n            document.exitFullscreen();\r\n        } else {\r\n            document.documentElement.requestFullscreen();\r\n        }\r\n        setFullMonitor(!fullMonitor);\r\n        return false;\r\n    };\r\n\r\n    function handleToggleMirror() {\r\n        setMirror(!mirror);\r\n    }\r\n\r\n    function handleCopyLink(url) {\r\n        navigator.clipboard\r\n            .writeText(url)\r\n            .then(() => {\r\n                setIsCopied(true);\r\n                setTimeout(() => setIsCopied(false), 1000);\r\n            })\r\n            .catch((err) => {\r\n                console.log('Something went wrong', err);\r\n            });\r\n\r\n        setTimeout(() => {\r\n            handleShareLink();\r\n        }, 1800);\r\n    }\r\n\r\n    function handleShareLink() {\r\n        setShareLink(!shareLink);\r\n    }\r\n\r\n    function handleShareChat() {\r\n        setShareChat(!shareChat);\r\n    }\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            {onlyAudio ? (\r\n                <AudioMeter\r\n                    userStream={userStream.current}\r\n                    number={32}\r\n                    widthLine={10}\r\n                    heightLine={100}\r\n                    lineClass=\"line-meter\"\r\n                    meterClass=\"big-meter\"\r\n                    model=\"big\"\r\n                />\r\n            ) : (\r\n                <AudioMeter\r\n                    userStream={userStream.current}\r\n                    number={24}\r\n                    widthLine={3}\r\n                    heightLine={40}\r\n                    lineClass=\"line-small-meter\"\r\n                    meterClass=\"small-meter\"\r\n                    model=\"small\"\r\n                />\r\n            )}\r\n\r\n            <div\r\n                className=\"video\"\r\n                style={onlyAudio ? { visibility: 'hidden' } : null}\r\n                onClick={handleFullscreen}\r\n            >\r\n                <video\r\n                    id=\"partner\"\r\n                    poster=\"images/poster.jpg\"\r\n                    autoPlay\r\n                    muted={sound}\r\n                    ref={partnerVideo}\r\n                    className={[\r\n                        mirror ? 'mirror' : null,\r\n                        fullScreen ? 'active' : null,\r\n                    ].join(' ')}\r\n                ></video>\r\n                <div className=\"user-video\">\r\n                    <video\r\n                        autoPlay\r\n                        muted\r\n                        ref={userVideo}\r\n                        poster=\"images/poster.jpg\"\r\n                    ></video>\r\n                </div>\r\n            </div>\r\n\r\n            <StreamControl\r\n                handleShareLink={handleShareLink}\r\n                handleShareChat={handleShareChat}\r\n                handleToggleMic={handleToggleMic}\r\n                audio={audio}\r\n                handleToggleCamera={handleToggleCamera}\r\n                video={video}\r\n                handleToggleSound={handleToggleSound}\r\n                sound={sound}\r\n                handleToggleFullScreen={handleToggleFullScreen}\r\n                handleShareMonitor={handleShareMonitor}\r\n                handleToggleSettings={handleToggleSettings}\r\n                handleToggleMirror={handleToggleMirror}\r\n                otherUser={otherUser.current}\r\n                update={update}\r\n                mirror={mirror}\r\n                fullScreen={fullScreen}\r\n                onlyAudio={onlyAudio}\r\n                fullMonitor={fullMonitor}\r\n                handleFullscreen={handleFullscreen}\r\n            />\r\n\r\n            <LinkRoom\r\n                shareLink={shareLink}\r\n                handleShareLink={handleShareLink}\r\n                handleCopyLink={handleCopyLink}\r\n                copied={isCopied}\r\n                url={window.location.href}\r\n            />\r\n\r\n            <ChatRoom\r\n                shareChat={shareChat}\r\n                handleShareChat={handleShareChat}\r\n                sendMessage={sendMessage}\r\n                handleChange={handleChange}\r\n                yourID={yourID}\r\n                message={message}\r\n                messages={messages}\r\n            />\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nexport default function AudioInputMeter() {\r\n    const audioContext = useRef(null);\r\n    const canvasContext = useRef(null);\r\n    const canvasMeter = useRef(null);\r\n    const mediaStreamSource = useRef(null);\r\n    const meter = useRef(null);\r\n    const rafID = useRef(null);\r\n    let WIDTH = 400;\r\n    let HEIGHT = 10;\r\n\r\n    useEffect(() => {\r\n        navigator.getUserMedia =\r\n            navigator.getUserMedia ||\r\n            navigator.webkitGetUserMedia ||\r\n            navigator.mozGetUserMedia;\r\n\r\n        canvasMeter.current = canvasContext.current.getContext('2d');\r\n\r\n        window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n        audioContext.current = new AudioContext();\r\n\r\n        try {\r\n            navigator.getUserMedia(\r\n                {\r\n                    audio: {\r\n                        mandatory: {\r\n                            googEchoCancellation: 'false',\r\n                            googAutoGainControl: 'false',\r\n                            googNoiseSuppression: 'false',\r\n                            googHighpassFilter: 'false',\r\n                        },\r\n                        optional: [],\r\n                    },\r\n                },\r\n                gotStream,\r\n                didntGetStream,\r\n            );\r\n        } catch (e) {\r\n            alert('getUserMedia threw exception :' + e);\r\n        }\r\n\r\n        function didntGetStream() {\r\n            alert('Stream generation failed.');\r\n        }\r\n    });\r\n\r\n    function gotStream(stream) {\r\n        mediaStreamSource.current = audioContext.current.createMediaStreamSource(\r\n            stream,\r\n        );\r\n        meter.current = createAudioMeter(audioContext.current);\r\n        mediaStreamSource.current.connect(meter.current);\r\n\r\n        drawLoop();\r\n    }\r\n\r\n    function drawLoop() {\r\n        canvasMeter.current.clearRect(0, 0, WIDTH, HEIGHT);\r\n\r\n        if (meter.current.checkClipping()) {\r\n            canvasMeter.current.fillStyle = 'red';\r\n        } else {\r\n            canvasMeter.current.fillStyle = 'green';\r\n        }\r\n\r\n        canvasMeter.current.fillRect(\r\n            0,\r\n            0,\r\n            meter.current.volume * WIDTH * 1.4,\r\n            HEIGHT,\r\n        );\r\n\r\n        rafID.current = window.requestAnimationFrame(drawLoop);\r\n        return rafID.current;\r\n    }\r\n\r\n    function createAudioMeter(audioContext, clipLevel, averaging, clipLag) {\r\n        var processor = audioContext.createScriptProcessor(256);\r\n\r\n        processor.onaudioprocess = volumeAudioProcess;\r\n        processor.clipping = false;\r\n        processor.lastClip = 0;\r\n        processor.volume = 0;\r\n        processor.clipLevel = clipLevel || 0.98;\r\n        processor.averaging = averaging || 0.95;\r\n        processor.clipLag = clipLag || 750;\r\n\r\n        processor.connect(audioContext.destination);\r\n\r\n        processor.checkClipping = function () {\r\n            if (!this.clipping) return false;\r\n            if (this.lastClip + this.clipLag < window.performance.now())\r\n                this.clipping = false;\r\n            return this.clipping;\r\n        };\r\n\r\n        processor.shutdown = function () {\r\n            this.disconnect();\r\n            this.onaudioprocess = null;\r\n        };\r\n\r\n        return processor;\r\n    }\r\n\r\n    function volumeAudioProcess(event) {\r\n        const buf = event.inputBuffer.getChannelData(0);\r\n        let bufLength = buf.length;\r\n        let sum = 0;\r\n        let x;\r\n\r\n        for (let i = 0; i < bufLength; i++) {\r\n            x = buf[i];\r\n            if (Math.abs(x) >= this.clipLevel) {\r\n                this.clipping = true;\r\n                this.lastClip = window.performance.now();\r\n            }\r\n            sum += x * x;\r\n        }\r\n\r\n        let rms = Math.sqrt(sum / bufLength);\r\n        this.volume = Math.max(rms, this.volume * this.averaging);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <canvas\r\n                className=\"audio-indicator\"\r\n                id=\"meter\"\r\n                height=\"10\"\r\n                ref={canvasContext}\r\n            ></canvas>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useRef, useEffect } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport AudioInputMeter from './AudioInputMeter';\r\n\r\nexport default function Settings({ startChat, handleOnlyAudio, onlyAudio }) {\r\n    const videoElement = useRef();\r\n    const audioInputSelect = useRef();\r\n    const audioOutputSelect = useRef();\r\n    const videoSelect = useRef();\r\n    const constraints = useRef();\r\n\r\n    useEffect(() => {\r\n        const selectors = [\r\n            audioInputSelect.current,\r\n            audioOutputSelect.current,\r\n            videoSelect.current,\r\n        ];\r\n        audioOutputSelect.current.disabled = !(\r\n            'sinkId' in HTMLMediaElement.prototype\r\n        );\r\n\r\n        function gotDevices(deviceInfos) {\r\n            const values = selectors.map((select) => select.value);\r\n            selectors.forEach((select) => {\r\n                while (select.firstChild) {\r\n                    select.removeChild(select.firstChild);\r\n                }\r\n            });\r\n\r\n            for (let i = 0; i !== deviceInfos.length; ++i) {\r\n                const deviceInfo = deviceInfos[i];\r\n                const option = document.createElement('option');\r\n                option.value = deviceInfo.deviceId;\r\n                if (deviceInfo.kind === 'audioinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `microphone ${audioInputSelect.current.length + 1}`;\r\n                    audioInputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'audiooutput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `speaker ${audioOutputSelect.current.length + 1}`;\r\n                    audioOutputSelect.current.appendChild(option);\r\n                } else if (deviceInfo.kind === 'videoinput') {\r\n                    option.text =\r\n                        deviceInfo.label ||\r\n                        `camera ${videoSelect.current.length + 1}`;\r\n                    videoSelect.current.appendChild(option);\r\n                } else {\r\n                    console.log(\r\n                        'Some other kind of source/device: ',\r\n                        deviceInfo,\r\n                    );\r\n                }\r\n            }\r\n\r\n            selectors.forEach((select, selectorIndex) => {\r\n                if (\r\n                    Array.prototype.slice\r\n                        .call(select.childNodes)\r\n                        .some((n) => n.value === values[selectorIndex])\r\n                ) {\r\n                    select.value = values[selectorIndex];\r\n                }\r\n            });\r\n        }\r\n\r\n        navigator.mediaDevices\r\n            .enumerateDevices()\r\n            .then(gotDevices)\r\n            .catch(handleError);\r\n\r\n        function changeAudioDestination() {\r\n            const audioDestination = audioOutputSelect.current.value;\r\n            attachSinkId(videoElement.current, audioDestination);\r\n        }\r\n\r\n        function start() {\r\n            const audioSource = audioInputSelect.current.value;\r\n            const videoSource = videoSelect.current.value;\r\n\r\n            constraints.current = {\r\n                audio: {\r\n                    deviceId: audioSource ? { exact: audioSource } : undefined,\r\n                },\r\n                video: onlyAudio\r\n                    ? false\r\n                    : {\r\n                          deviceId: videoSource\r\n                              ? { exact: videoSource }\r\n                              : undefined,\r\n                      },\r\n            };\r\n\r\n            navigator.mediaDevices\r\n                .getUserMedia(constraints.current)\r\n                .then(gotStream)\r\n                .then(gotDevices)\r\n                .catch(handleError);\r\n        }\r\n\r\n        audioInputSelect.current.onchange = start;\r\n        audioOutputSelect.current.onchange = changeAudioDestination;\r\n\r\n        videoSelect.current.onchange = start;\r\n\r\n        start();\r\n\r\n        function handleError(error) {\r\n            handleOnlyAudio();\r\n            console.log(\r\n                'navigator.MediaDevices.getUserMedia error: ',\r\n                error.message,\r\n                error.name,\r\n            );\r\n        }\r\n    }, [onlyAudio, handleOnlyAudio]);\r\n\r\n    function attachSinkId(element, sinkId) {\r\n        if (typeof element.sinkId !== 'undefined') {\r\n            element\r\n                .setSinkId(sinkId)\r\n                .then(() => {\r\n                    console.log(\r\n                        `Success, audio output device attached: ${sinkId}`,\r\n                    );\r\n                })\r\n                .catch((error) => {\r\n                    let errorMessage = error;\r\n                    if (error.name === 'SecurityError') {\r\n                        errorMessage = `You need to use HTTPS for selecting audio output device: ${error}`;\r\n                    }\r\n                    console.error(errorMessage);\r\n                    // Jump back to first output device in the list as it's the default.\r\n                    audioOutputSelect.current.selectedIndex = 0;\r\n                });\r\n        } else {\r\n            console.warn('Browser does not support output device selection.');\r\n        }\r\n    }\r\n\r\n    function gotStream(stream) {\r\n        videoElement.current.srcObject = stream;\r\n        return navigator.mediaDevices.enumerateDevices();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <section className=\"create-chat settings\">\r\n                    <h2>\r\n                        Configure your {onlyAudio ? null : 'camera and '} audio\r\n                        devices\r\n                    </h2>\r\n\r\n                    {onlyAudio && (\r\n                        <h3>\r\n                            You do not have a video camera connected,\r\n                            <br /> you can only communicate by voice\r\n                        </h3>\r\n                    )}\r\n\r\n                    <div className={[onlyAudio ? 'invisible' : null]}>\r\n                        <div className=\"video-content\">\r\n                            <video\r\n                                id=\"video\"\r\n                                poster=\"images/poster.jpg\"\r\n                                autoPlay\r\n                                playsInline\r\n                                ref={videoElement}\r\n                            ></video>\r\n                        </div>\r\n\r\n                        <div className=\"select\">\r\n                            <label htmlFor=\"videoSource\">Video source:</label>\r\n                            <select id=\"videoSource\" ref={videoSelect}></select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioSource\">Audio input:</label>\r\n                        <AudioInputMeter />\r\n                        <select\r\n                            id=\"audioSource\"\r\n                            ref={audioInputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"select\">\r\n                        <label htmlFor=\"audioOutput\">Audio output:</label>\r\n                        <select\r\n                            id=\"audioOutput\"\r\n                            ref={audioOutputSelect}\r\n                        ></select>\r\n                    </div>\r\n\r\n                    <div className=\"crete-info\">\r\n                        <b>Note:</b> If you hear a reverb sound your microphone\r\n                        is picking up the output of your speakers/headset, lower\r\n                        the volume and/or move the microphone further away from\r\n                        your speakers/headset.\r\n                    </div>\r\n\r\n                    <div className=\"btn-go\">\r\n                        <button onClick={() => startChat(constraints.current)}>\r\n                            Start {onlyAudio ? 'Audio' : 'Video'} Chat\r\n                        </button>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n// eslint-disable-next-line\r\nimport adapter from 'webrtc-adapter';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport ExitButton from '../components/ExitButton';\r\nimport Loader from '../components/Loader';\r\nimport VideoPlayer from '../components/VideoPlayer';\r\nimport Settings from '../components/Settings';\r\n\r\nconst Chat = ({ match, history }) => {\r\n    const [constraints, setConstraints] = useState({});\r\n    const [onlyAudio, setOnlyAudio] = useState(false);\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [open, setSOpen] = useState(false);\r\n\r\n    const id = match.params.id;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => setSpinner(true), 1000);\r\n    });\r\n\r\n    const exitRoom = () => {\r\n        history.push('/');\r\n    };\r\n\r\n    const startChat = (param) => {\r\n        setConstraints(param);\r\n        setSOpen(true);\r\n    };\r\n\r\n    const handleOnlyAudio = () => {\r\n        setOnlyAudio(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <ExitButton exitRoom={exitRoom} />\r\n\r\n            {!open && (\r\n                <Settings\r\n                    startChat={startChat}\r\n                    handleOnlyAudio={handleOnlyAudio}\r\n                    onlyAudio={onlyAudio}\r\n                />\r\n            )}\r\n\r\n            {open && (\r\n                <VideoPlayer\r\n                    id={id}\r\n                    history={history}\r\n                    constraints={constraints}\r\n                    onlyAudio={onlyAudio}\r\n                />\r\n            )}\r\n\r\n            {!spinner && (\r\n                <div className=\"loader\">\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport CreateChat from './P2P_VideoAudioChat/CreateChat';\nimport Chat from './P2P_VideoAudioChat/Chat';\n\nfunction App() {\n    return (\n        <>\n            <BrowserRouter>\n                <Switch>\n                    <Route path=\"/\" exact component={CreateChat} />\n                    <Route path=\"/chat/:id\" component={Chat} />\n                </Switch>\n            </BrowserRouter>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}